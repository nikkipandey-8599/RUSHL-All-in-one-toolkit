<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RUSHL - ALL IN ONE TOOL</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🔧</text></svg>">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3f37c9;
      --accent: #4cc9f0;
      --success: #4ade80;
      --warning: #facc15;
      --danger: #f87171;
      --info: #60a5fa;
      --light: #f8f9fa;
      --dark: #1e293b;
      --gray: #94a3b8;
      --glass-bg: rgba(255, 255, 255, 0.7);
      --glass-border: rgba(255, 255, 255, 0.3);
      --shadow-sm: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --radius-sm: 0.5rem;
      --radius-md: 0.75rem;
      --radius-lg: 1rem;
      --radius-xl: 1.5rem;
    }

    body.dark-mode {
      --primary: #5e72e4;
      --secondary: #4a56d0;
      --accent: #38bdf8;
      --success: #34d399;
      --warning: #fbbf24;
      --danger: #fb7185;
      --info: #60a5fa;
      --light: #0f172a;
      --dark: #f1f5f9;
      --gray: #94a3b8;
      --glass-bg: rgba(30, 41, 59, 0.7);
      --glass-border: rgba(30, 41, 59, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e7f1 100%);
      color: var(--dark);
      line-height: 1.6;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    body.dark-mode {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: var(--light);
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 10% 20%, rgba(67, 97, 238, 0.1) 0%, transparent 20%),
                  radial-gradient(circle at 90% 80%, rgba(76, 201, 240, 0.1) 0%, transparent 20%);
      z-index: -1;
      pointer-events: none;
    }

    body.dark-mode::before {
      background: radial-gradient(circle at 10% 20%, rgba(94, 114, 228, 0.1) 0%, transparent 20%),
                  radial-gradient(circle at 90% 80%, rgba(56, 189, 248, 0.1) 0%, transparent 20%);
    }

    /* Header Styles */
    header {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--glass-border);
      padding: 1rem 2rem;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: var(--shadow-md);
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1400px;
      margin: 0 auto;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--primary);
      text-decoration: none;
    }

    .logo i {
      font-size: 1.8rem;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    nav ul {
      display: flex;
      list-style: none;
      gap: 1.5rem;
    }

    nav a {
      text-decoration: none;
      color: var(--dark);
      font-weight: 600;
      padding: 0.5rem 1rem;
      border-radius: var(--radius-sm);
      transition: var(--transition);
      position: relative;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    body.dark-mode nav a {
      color: var(--light);
    }

    nav a:hover {
      background: var(--glass-bg);
      color: var(--primary);
    }

    nav a.active {
      background: var(--primary);
      color: white;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .theme-toggle {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
      font-size: 1.2rem;
    }

    .theme-toggle:hover {
      background: var(--primary);
      color: white;
      transform: rotate(15deg);
    }

    /* Search Section */
    .search-section {
      padding: 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .search-container {
      position: relative;
      max-width: 700px;
      margin: 0 auto;
    }

    .search-bar {
      width: 100%;
      padding: 1rem 1.5rem 1rem 3.5rem;
      border-radius: var(--radius-lg);
      border: 1px solid var(--glass-border);
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      font-size: 1rem;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
    }

    .search-bar:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
    }

    .search-icon {
      position: absolute;
      left: 1.25rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }

    .search-suggestions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      margin-top: 0.5rem;
      z-index: 100;
      max-height: 300px;
      overflow-y: auto;
      display: none;
    }

    .search-suggestions.show {
      display: block;
    }

    .suggestion-item {
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .suggestion-item:hover {
      background: rgba(67, 97, 238, 0.1);
    }

    /* Hero Section */
    .hero {
      text-align: center;
      padding: 3rem 2rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .hero h1 {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .hero p {
      font-size: 1.2rem;
      color: var(--gray);
      margin-bottom: 2rem;
    }

    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-top: 2rem;
    }

    .stat-item {
      text-align: center;
    }

    .stat-number {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
    }

    .stat-label {
      font-size: 0.9rem;
      color: var(--gray);
    }

    /* Quick Access Toolbar */
    .quick-access {
      padding: 1rem 2rem;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-top: 1px solid var(--glass-border);
      border-bottom: 1px solid var(--glass-border);
      margin-bottom: 2rem;
    }

    .quick-access-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
    }

    .quick-tool {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: rgba(255, 255, 255, 0.5);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: var(--transition);
      font-weight: 500;
    }

    body.dark-mode .quick-tool {
      background: rgba(30, 41, 59, 0.5);
    }

    .quick-tool:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-2px);
    }

    /* Categories */
    .categories {
      padding: 0 2rem 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .category-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
      justify-content: center;
    }

    .category-tab {
      padding: 0.75rem 1.5rem;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-full);
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
    }

    .category-tab:hover, .category-tab.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    /* Tools Grid */
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
      padding: 0 2rem 3rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .tool-card {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      box-shadow: var(--shadow-md);
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      flex-direction: column;
      position: relative;
      overflow: hidden;
    }

    .tool-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
      border-color: var(--primary);
    }

    .tool-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.3s ease;
    }

    .tool-card:hover::before {
      transform: scaleX(1);
    }

    .tool-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(67, 97, 238, 0.1);
      border-radius: var(--radius-md);
      color: var(--primary);
    }

    .tool-card h3 {
      margin-bottom: 0.5rem;
      font-size: 1.25rem;
      font-weight: 700;
    }

    .tool-card p {
      color: var(--gray);
      font-size: 0.95rem;
      margin-bottom: 1.5rem;
      flex-grow: 1;
    }

    .tool-actions {
      display: flex;
      justify-content: space-between;
      gap: 0.5rem;
    }

    .tool-btn {
      padding: 0.5rem 1rem;
      border-radius: var(--radius-md);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      border: none;
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .open-btn {
      background: var(--primary);
      color: white;
    }

    .open-btn:hover {
      background: var(--secondary);
    }

    .favorite-btn {
      background: transparent;
      border: 1px solid var(--glass-border);
      color: var(--gray);
    }

    .favorite-btn:hover {
      background: rgba(251, 191, 36, 0.1);
      color: var(--warning);
      border-color: var(--warning);
    }

    .favorite-btn.favorited {
      background: rgba(251, 191, 36, 0.2);
      color: var(--warning);
      border-color: var(--warning);
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-xl);
      width: 90%;
      max-width: 900px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: var(--shadow-lg);
      position: relative;
      padding: 2rem;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--glass-border);
    }

    .modal-title {
      font-size: 1.5rem;
      font-weight: 700;
    }

    .close-btn {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
      font-size: 1.2rem;
    }

    .close-btn:hover {
      background: var(--danger);
      color: white;
      transform: rotate(90deg);
    }

    .tool-content {
      margin-top: 1rem;
    }

    .tool-content label {
      display: block;
      margin: 1rem 0 0.5rem;
      font-weight: 600;
    }

    .tool-content input, 
    .tool-content textarea, 
    .tool-content select {
      width: 100%;
      padding: 0.75rem 1rem;
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-md);
      background: var(--glass-bg);
      color: var(--dark);
      font-size: 1rem;
      transition: var(--transition);
    }

    body.dark-mode .tool-content input, 
    body.dark-mode .tool-content textarea, 
    body.dark-mode .tool-content select {
      color: var(--light);
    }

    .tool-content input:focus, 
    .tool-content textarea:focus, 
    .tool-content select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
    }

    .tool-content textarea {
      min-height: 120px;
      resize: vertical;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      border-radius: var(--radius-md);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      border: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--secondary);
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .btn-secondary {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      color: var(--dark);
    }

    body.dark-mode .btn-secondary {
      color: var(--light);
    }

    .btn-secondary:hover {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .btn-success {
      background: var(--success);
      color: white;
    }

    .btn-warning {
      background: var(--warning);
      color: var(--dark);
    }

    .btn-danger {
      background: var(--danger);
      color: white;
    }

    .btn-group {
      display: flex;
      gap: 1rem;
      margin-top: 1.5rem;
      flex-wrap: wrap;
    }

    .result-container {
      margin: 1.5rem 0;
      padding: 1.5rem;
      background: var(--glass-bg);
      border-radius: var(--radius-md);
      border: 1px solid var(--glass-border);
      min-height: 100px;
      word-break: break-all;
    }

    /* Footer */
    footer {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-top: 1px solid var(--glass-border);
      padding: 3rem 2rem 2rem;
      margin-top: 2rem;
    }

    .footer-content {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    .footer-section h3 {
      margin-bottom: 1.5rem;
      font-size: 1.25rem;
      position: relative;
      padding-bottom: 0.75rem;
    }

    .footer-section h3::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 3px;
      background: var(--primary);
      border-radius: var(--radius-full);
    }

    .footer-section p {
      color: var(--gray);
      line-height: 1.7;
      margin-bottom: 1rem;
    }

    .social-links {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
    }

    .social-link {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      color: var(--dark);
      transition: var(--transition);
    }

    body.dark-mode .social-link {
      color: var(--light);
    }

    .social-link:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-3px);
    }

    .copyright {
      text-align: center;
      padding-top: 2rem;
      margin-top: 2rem;
      border-top: 1px solid var(--glass-border);
      color: var(--gray);
      font-size: 0.9rem;
    }

    /* Scroll Top Button */
    .scroll-top {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background: var(--primary);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      z-index: 999;
      opacity: 0;
      transform: translateY(20px);
      transition: var(--transition);
    }

    .scroll-top.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .scroll-top:hover {
      background: var(--secondary);
      transform: translateY(-5px);
    }

    /* Notification */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      background: var(--success);
      color: white;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      z-index: 2000;
      transform: translateX(400px);
      transition: transform 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .notification.show {
      transform: translateX(0);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        gap: 1rem;
      }
      
      nav ul {
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .hero-stats {
        flex-direction: column;
        gap: 1rem;
      }
      
      .tools-grid {
        grid-template-columns: 1fr;
        padding: 1rem;
      }
      
      .modal-content {
        padding: 1.5rem;
        margin: 1rem;
      }
      
      .footer-content {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 480px) {
      .header-content {
        padding: 1rem;
      }
      
      .logo {
        font-size: 1.25rem;
      }
      
      .hero {
        padding: 2rem 1rem;
      }
      
      .hero h1 {
        font-size: 1.75rem;
      }
      
      .tools-grid {
        padding: 1rem;
      }
      
      .tool-card {
        padding: 1.25rem;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.5s ease forwards;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .pulse {
      animation: pulse 2s infinite;
    }

    /* Skeleton Loading */
    .skeleton {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
      border-radius: var(--radius-md);
    }

    body.dark-mode .skeleton {
      background: linear-gradient(90deg, #2d3748 25%, #4a5568 50%, #2d3748 75%);
    }

    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: var(--radius-full);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--secondary);
    }

    /* Tool Specific Styles */
    .preview-container {
      text-align: center;
      margin: 1rem 0;
    }

    .preview-container img {
      max-width: 100%;
      max-height: 300px;
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
    }

    .slider-container {
      margin: 1rem 0;
    }

    .slider-container label {
      display: block;
      margin-bottom: 0.5rem;
    }

    .slider {
      width: 100%;
      height: 10px;
      -webkit-appearance: none;
      background: var(--glass-bg);
      border-radius: 5px;
      outline: none;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--primary);
      cursor: pointer;
    }

    .color-preview {
      display: inline-block;
      width: 50px;
      height: 50px;
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-md);
      margin: 0.5rem;
    }

    .color-palette {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin: 1rem 0;
    }

    .color-item {
      margin: 0.5rem;
      text-align: center;
    }

    .color-swatch {
      width: 60px;
      height: 60px;
      border-radius: var(--radius-md);
      margin-bottom: 0.3rem;
      border: 1px solid var(--glass-border);
    }

    .waveform {
      width: 100%;
      height: 100px;
      background: var(--glass-bg);
      border-radius: var(--radius-md);
      margin: 1rem 0;
      position: relative;
      overflow: hidden;
    }

    .waveform-bar {
      position: absolute;
      bottom: 0;
      width: 2px;
      background: var(--primary);
    }

    .timer-display {
      font-size: 3rem;
      text-align: center;
      margin: 1rem 0;
      font-family: monospace;
    }

    .timer-controls {
      text-align: center;
      margin: 1rem 0;
    }

    .lap-times {
      max-height: 200px;
      overflow-y: auto;
      margin: 1rem 0;
      padding: 0.5rem;
      background: var(--glass-bg);
      border-radius: var(--radius-md);
    }

    .lap-time {
      padding: 0.3rem;
      border-bottom: 1px solid var(--glass-border);
    }

    .contrast-result {
      padding: 1rem;
      margin: 1rem 0;
      border-radius: var(--radius-md);
      text-align: center;
      font-weight: bold;
    }

    .qr-code {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }

    .qr-code canvas {
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-md);
    }

    .unit-converter select {
      display: inline-block;
      width: 45%;
      margin: 0.5rem;
    }

    .unit-converter input {
      display: inline-block;
      width: 45%;
      margin: 0.5rem;
    }

    .hash-result {
      font-family: monospace;
      word-break: break-all;
    }

    .regex-match {
      background: rgba(72, 248, 245, 0.2);
      padding: 0.2rem;
      border-radius: 3px;
    }

    .json-editor {
      width: 100%;
      min-height: 200px;
      font-family: monospace;
      padding: 1rem;
      margin: 1rem 0;
    }

    .tabs {
      display: flex;
      margin-bottom: 1rem;
      border-bottom: 1px solid var(--glass-border);
    }

    .tab {
      padding: 0.7rem 1.5rem;
      cursor: pointer;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-bottom: none;
      border-radius: var(--radius-md) var(--radius-md) 0 0;
      margin-right: 0.2rem;
    }

    .tab.active {
      background: var(--primary);
      color: white;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .file-input {
      width: 100%;
      padding: 1rem;
      border: 2px dashed var(--glass-border);
      border-radius: var(--radius-md);
      text-align: center;
      margin: 1rem 0;
      cursor: pointer;
      transition: var(--transition);
    }

    .file-input:hover {
      background: var(--glass-bg);
      border-color: var(--primary);
    }

    .file-preview {
      max-width: 100%;
      max-height: 300px;
      margin: 1rem auto;
      display: block;
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-md);
    }

    .watermark-controls {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin: 1rem 0;
    }

    .watermark-control {
      flex: 1;
      min-width: 200px;
    }

    .aspect-ratio-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin: 1rem 0;
    }

    .aspect-ratio-button {
      padding: 0.5rem 1rem;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-md);
    }

    .aspect-ratio-button.active {
      background: var(--primary);
      color: white;
    }

    .cropping-area {
      position: relative;
      display: inline-block;
      margin: 1rem 0;
    }

    .cropping-overlay {
      position: absolute;
      border: 2px dashed var(--primary);
      cursor: move;
    }

    .icon-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      margin: 1rem 0;
    }

    .icon-item {
      text-align: center;
      padding: 1rem;
      background: var(--glass-bg);
      border-radius: var(--radius-md);
      cursor: pointer;
    }

    .icon-item:hover {
      background: var(--primary);
      color: white;
    }

    .icon-item img {
      width: 50px;
      height: 50px;
      margin-bottom: 0.5rem;
    }

    .amortization-table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }

    .amortization-table th, .amortization-table td {
      border: 1px solid var(--glass-border);
      padding: 0.5rem;
      text-align: center;
    }

    .amortization-table th {
      background: var(--glass-bg);
    }

    .sip-chart {
      width: 100%;
      height: 200px;
      margin: 1rem 0;
      background: var(--glass-bg);
      border-radius: var(--radius-md);
      position: relative;
      overflow: hidden;
    }

    .sip-bar {
      position: absolute;
      bottom: 0;
      width: 30px;
      background: var(--primary);
      margin: 0 5px;
    }

    .price-comparison {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin: 1rem 0;
    }

    .price-item {
      flex: 1;
      min-width: 200px;
      padding: 1rem;
      background: var(--glass-bg);
      border-radius: var(--radius-md);
      text-align: center;
    }

    .price-item.best {
      border: 2px solid var(--primary);
      position: relative;
    }

    .price-item.best::after {
      content: "Best Value";
      position: absolute;
      top: -10px;
      right: -10px;
      background: var(--primary);
      color: white;
      padding: 0.2rem 0.5rem;
      border-radius: var(--radius-sm);
      font-size: 0.8rem;
    }

    .code-editor {
      width: 100%;
      min-height: 200px;
      font-family: monospace;
      padding: 1rem;
      margin: 1rem 0;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-md);
      color: var(--dark);
    }

    body.dark-mode .code-editor {
      color: var(--light);
    }

    .csv-preview {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }

    .csv-preview th, .csv-preview td {
      border: 1px solid var(--glass-border);
      padding: 0.5rem;
      text-align: left;
    }

    .csv-preview th {
      background: var(--glass-bg);
    }

    .steganography-preview {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin: 1rem 0;
    }

    .steg-image {
      flex: 1;
      min-width: 200px;
    }

    .steg-image img {
      max-width: 100%;
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-md);
    }

    .audio-waveform {
      width: 100%;
      height: 100px;
      background: var(--glass-bg);
      border-radius: var(--radius-md);
      margin: 1rem 0;
      position: relative;
      overflow: hidden;
    }

    .audio-waveform-bar {
      position: absolute;
      bottom: 0;
      width: 2px;
      background: var(--primary);
    }

    .video-preview {
      width: 100%;
      height: 200px;
      background: var(--glass-bg);
      border-radius: var(--radius-md);
      margin: 1rem 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--gray);
      font-size: 1.2rem;
    }

    .scanner-preview {
      width: 100%;
      height: 300px;
      background: var(--glass-bg);
      border-radius: var(--radius-md);
      margin: 1rem 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--gray);
      font-size: 1.2rem;
      position: relative;
      overflow: hidden;
    }

    .scanner-preview::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 30px;
      background: rgba(66, 248, 245, 0.3);
      animation: scan 2s linear infinite;
    }

    @keyframes scan {
      0% { top: 0; }
      100% { top: 100%; }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <a href="#" class="logo">
        <i class="fas fa-tools"></i>
        <span>RUSHL TOOLS</span>
      </a>
      <nav>
        <ul>
          <li><a href="#home" class="active"><i class="fas fa-home"></i> Home</a></li>
          <li><a href="#tools"><i class="fas fa-wrench"></i> Tools</a></li>
          <li><a href="#favorites"><i class="fas fa-star"></i> Favorites</a></li>
          <li><a href="#about"><i class="fas fa-info-circle"></i> About</a></li>
        </ul>
      </nav>
      <div class="header-actions">
        <div class="theme-toggle" onclick="toggleTheme()">
          <i class="fas fa-moon"></i>
        </div>
      </div>
    </div>
  </header>

  <section class="search-section">
    <div class="search-container">
      <i class="fas fa-search search-icon"></i>
      <input type="text" class="search-bar" placeholder="Search for tools..." oninput="filterTools(this.value)">
      <div class="search-suggestions" id="search-suggestions">
        <!-- Suggestions will be populated dynamically -->
      </div>
    </div>
  </section>

  <section class="hero" id="home">
    <h1>All-in-One Productivity Toolkit</h1>
    <p>Your ultimate companion for modern digital tasks. Powerful, easy-to-use, and fast online tools for creators, developers, and professionals.</p>
    <div class="hero-stats">
      <div class="stat-item">
        <div class="stat-number">40+</div>
        <div class="stat-label">Tools Available</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">10K+</div>
        <div class="stat-label">Users Monthly</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">100%</div>
        <div class="stat-label">Free to Use</div>
      </div>
    </div>
  </section>

  <section class="quick-access">
    <div class="quick-access-content">
      <div class="quick-tool" onclick="openToolByIndex(0)">
        <i class="fas fa-images"></i>
        <span>Image Converter</span>
      </div>
      <div class="quick-tool" onclick="openToolByIndex(10)">
        <i class="fas fa-music"></i>
        <span>Audio Converter</span>
      </div>
      <div class="quick-tool" onclick="openToolByIndex(24)">
        <i class="fas fa-key"></i>
        <span>Password Generator</span>
      </div>
      <div class="quick-tool" onclick="openToolByIndex(32)">
        <i class="fas fa-stopwatch"></i>
        <span>Timer</span>
      </div>
      <div class="quick-tool" onclick="openToolByIndex(20)">
        <i class="fas fa-calculator"></i>
        <span>Unit Converter</span>
      </div>
    </div>
  </section>

  <section class="categories">
    <div class="category-tabs">
      <div class="category-tab active" data-category="all">All Tools</div>
      <div class="category-tab" data-category="media">Media Tools</div>
      <div class="category-tab" data-category="text">Text Tools</div>
      <div class="category-tab" data-category="calculators">Calculators</div>
      <div class="category-tab" data-category="developers">Developers</div>
    </div>
  </section>

  <section id="tools" class="tools-grid">
    <!-- Tool cards will be generated here -->
  </section>

  <div class="scroll-top" onclick="scrollToTop()">↑</div>

  <!-- Modals will be generated dynamically -->

  <footer>
    <div class="footer-content">
      <div class="footer-section" id="about">
        <h3>About RUSHL Tools</h3>
        <p>Welcome to ALL IN ONE TOOL – RUSHL, your ultimate productivity companion for modern digital tasks. Our goal is to provide a powerful, easy-to-use, and fast online toolkit that helps you create, convert, and manage files effortlessly — all in one place.</p>
        <p>From PDF tools to image converters, text utilities, and developer-friendly resources, RUSHL brings everything together under one seamless interface. We believe in simplicity, speed, and reliability — making sure you get your work done without switching between multiple apps.</p>
        <div class="social-links">
          <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
          <a href="#" class="social-link"><i class="fab fa-github"></i></a>
          <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
          <a href="#" class="social-link"><i class="fab fa-discord"></i></a>
        </div>
      </div>
      <div class="footer-section" id="contact">
        <h3>Contact Us</h3>
        <p>Have a question, suggestion, or feedback? We'd love to hear from you!</p>
        <p><i class="fas fa-envelope"></i> Email: <a href="mailto:nikkipandey392@gmail.com">nikkipandey392@gmail.com</a></p>
        <p><i class="fas fa-map-marker-alt"></i> Location: Mumbai</p>
      </div>
      <div class="footer-section">
        <h3>Newsletter</h3>
        <p>Subscribe to our newsletter for updates on new tools and features.</p>
        <div class="tool-content">
          <input type="email" placeholder="Your email address">
          <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;">Subscribe</button>
        </div>
      </div>
    </div>
    <div class="copyright">
      <p>&copy; 2025 RUSHL Tools. All rights reserved. Made with ❤️ for creators worldwide.</p>
    </div>
  </footer>

  <div class="notification" id="notification">
    <i class="fas fa-check-circle"></i>
    <span id="notification-text">Copied to clipboard!</span>
  </div>

  <script>
    // Tool data with categories
    const tools = [
      { title: "Image Converter", desc: "Convert between formats like PNG, JPEG, and WebP", icon: "🖼️", category: "media" },
      { title: "Image Compressor", desc: "Reduce image file size with quality control", icon: "🗜️", category: "media" },
      { title: "Image Cropper", desc: "Freeform cropping and aspect-ratio presets", icon: "✂️", category: "media" },
      { title: "Image Resizer", desc: "Scale an image to new dimensions", icon: "📏", category: "media" },
      { title: "Image Watermarker", desc: "Add text or image watermark", icon: "💧", category: "media" },
      { title: "Color Palette Extractor", desc: "Extract dominant colors from image", icon: "🎨", category: "media" },
      { title: "Color Picker & Contrast Checker", desc: "Advanced color picker with WCAG contrast", icon: "picker", category: "media" },
      { title: "Favicon Generator", desc: "Generate all necessary favicon sizes", icon: "🌐", category: "media" },
      { title: "Document Scanner", desc: "Auto-crop photos to PDF/JPEG", icon: "📸", category: "media" },
      { title: "Image Steganography", desc: "Embed and extract hidden text", icon: "🕵️", category: "media" },
      { title: "Audio Converter", desc: "Convert WAV, MP3, OGG formats", icon: "🎵", category: "media" },
      { title: "Audio Trimmer", desc: "Visual waveform editor", icon: "✂️", category: "media" },
      { title: "Video Container Swapper", desc: "Remux MP4 to WebM", icon: "🎥", category: "media" },
      { title: "Text to Speech", desc: "Speak text with voice controls", icon: "🔊", category: "media" },
      { title: "Speech to Text", desc: "Transcribe mic input to text", icon: "🎤", category: "media" },
      { title: "Age Calculator", desc: "Calculate exact age from DOB", icon: "🎂", category: "calculators" },
      { title: "EMI Calculator", desc: "Calculate loan EMIs with table", icon: "💰", category: "calculators" },
      { title: "SIP Calculator", desc: "Investment growth projection", icon: "📈", category: "calculators" },
      { title: "Unit Converter", desc: "Comprehensive unit conversion", icon: "🔄", category: "calculators" },
      { title: "BMI Calculator", desc: "Calculate BMI and classification", icon: "⚖️", category: "calculators" },
      { title: "Unit Price Calculator", desc: "Compare product values", icon: "🛒", category: "calculators" },
      { title: "Word & Character Counter", desc: "Count words, chars, read time", icon: "📝", category: "text" },
      { title: "Case Converter", desc: "Change text case styles", icon: "🔤", category: "text" },
      { title: "Lorem Ipsum Generator", desc: "Placeholder text generator", icon: "📄", category: "text" },
      { title: "Password Generator", desc: "Create strong passwords", icon: "🔑", category: "text" },
      { title: "QR Code Generator", desc: "Convert text to QR code", icon: "🔲", category: "text" },
      { title: "Text Minifier / Beautifier", desc: "Format/minify HTML/CSS", icon: "🧹", category: "developers" },
      { title: "JSON Formatter & Validator", desc: "Validate and format JSON", icon: "{}", category: "developers" },
      { title: "Base64 Encoder / Decoder", desc: "Encode/decode Base64 text", icon: "🧬", category: "developers" },
      { title: "CSV to JSON Converter", desc: "Convert between CSV and JSON", icon: "📊", category: "developers" },
      { title: "Regex Tester", desc: "Live regex testing tool", icon: "🔍", category: "developers" },
      { title: "Hash Generator", desc: "Generate MD5, SHA hashes", icon: "#️⃣", category: "developers" },
      { title: "Timer / Stopwatch", desc: "Simple timer with lap tracking", icon: "⏱️", category: "calculators" }
    ];

    // Favorites storage
    let favorites = JSON.parse(localStorage.getItem('rushlFavorites')) || [];

    // Generate tool cards
    const container = document.querySelector(".tools-grid");
    tools.forEach((tool, i) => {
      const div = document.createElement("div");
      div.className = "tool-card fade-in";
      div.dataset.category = tool.category;
      div.dataset.title = tool.title.toLowerCase();
      div.innerHTML = `
        <div class="tool-icon">${tool.icon}</div>
        <h3>${tool.title}</h3>
        <p>${tool.desc}</p>
        <div class="tool-actions">
          <button class="tool-btn open-btn" onclick="openModal(${i})">
            <i class="fas fa-external-link-alt"></i> Open
          </button>
          <button class="tool-btn favorite-btn ${favorites.includes(i) ? 'favorited' : ''}" onclick="toggleFavorite(${i})">
            <i class="fas fa-star"></i>
          </button>
        </div>
      `;
      container.appendChild(div);
    });

    // Category filtering
    document.querySelectorAll('.category-tab').forEach(tab => {
      tab.addEventListener('click', function() {
        // Update active tab
        document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        
        // Filter tools
        const category = this.dataset.category;
        const cards = document.querySelectorAll('.tool-card');
        
        cards.forEach(card => {
          if (category === 'all' || card.dataset.category === category) {
            card.style.display = 'flex';
          } else {
            card.style.display = 'none';
          }
        });
      });
    });

    // Toggle favorite
    function toggleFavorite(index) {
      const btn = event.currentTarget;
      const icon = btn.querySelector('i');
      
      if (favorites.includes(index)) {
        // Remove from favorites
        favorites = favorites.filter(id => id !== index);
        btn.classList.remove('favorited');
        icon.classList.remove('fas');
        icon.classList.add('far');
        showNotification(`${tools[index].title} removed from favorites`);
      } else {
        // Add to favorites
        favorites.push(index);
        btn.classList.add('favorited');
        icon.classList.remove('far');
        icon.classList.add('fas');
        showNotification(`${tools[index].title} added to favorites`);
      }
      
      localStorage.setItem('rushlFavorites', JSON.stringify(favorites));
    }

    // Filter tools based on search
    function filterTools(searchTerm) {
      const cards = document.querySelectorAll('.tool-card');
      const term = searchTerm.toLowerCase();
      const suggestionsContainer = document.getElementById('search-suggestions');
      
      // Clear previous suggestions
      suggestionsContainer.innerHTML = '';
      
      if (term.length > 0) {
        // Show matching tools in suggestions
        const matches = tools.filter(tool => 
          tool.title.toLowerCase().includes(term) || 
          tool.desc.toLowerCase().includes(term)
        );
        
        if (matches.length > 0) {
          matches.slice(0, 5).forEach((tool, i) => {
            const toolIndex = tools.findIndex(t => t.title === tool.title);
            const suggestion = document.createElement('div');
            suggestion.className = 'suggestion-item';
            suggestion.innerHTML = `
              <span>${tool.icon}</span>
              <span>${tool.title}</span>
            `;
            suggestion.onclick = () => {
              openModal(toolIndex);
              document.querySelector('.search-bar').value = '';
              suggestionsContainer.classList.remove('show');
            };
            suggestionsContainer.appendChild(suggestion);
          });
          suggestionsContainer.classList.add('show');
        } else {
          suggestionsContainer.classList.remove('show');
        }
        
        // Filter visible cards
        cards.forEach(card => {
          const title = card.dataset.title;
          if (title.includes(term)) {
            card.style.display = 'flex';
          } else {
            card.style.display = 'none';
          }
        });
      } else {
        // Show all tools when search is empty
        cards.forEach(card => card.style.display = 'flex');
        suggestionsContainer.classList.remove('show');
      }
    }

    // Close suggestions when clicking outside
    document.addEventListener('click', function(event) {
      const searchContainer = document.querySelector('.search-container');
      if (!searchContainer.contains(event.target)) {
        document.getElementById('search-suggestions').classList.remove('show');
      }
    });

    // Open tool by index (for quick access)
    function openToolByIndex(index) {
      openModal(index);
    }

    // Open tool modal
    function openModal(index) {
      const tool = tools[index];
      let modal = document.getElementById('modal-' + index);
      if (!modal) {
        modal = document.createElement("div");
        modal.id = 'modal-' + index;
        modal.className = "modal";
        modal.innerHTML = `
          <div class="modal-content">
            <div class="modal-header">
              <h2 class="modal-title">${tool.title}</h2>
              <div class="close-btn" onclick="this.parentElement.parentElement.parentElement.style.display='none'">
                <i class="fas fa-times"></i>
              </div>
            </div>
            <p>${tool.desc}</p>
            <div class="tool-content" id="content-${index}"></div>
          </div>
        `;
        document.body.appendChild(modal);
        initializeTool(index);
      }
      modal.style.display = "flex";
    }

    // Initialize tool functionality
    function initializeTool(index) {
      const content = document.getElementById(`content-${index}`);
      const tool = tools[index].title;
      
      switch(tool) {
        case "Image Converter":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('image-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload an image</p>
              <input type="file" id="image-upload-${index}" accept="image/*" style="display:none" onchange="handleImageUpload(event, ${index})">
            </div>
            <div class="preview-container" id="preview-${index}"></div>
            <label>Convert to:
              <select id="format-${index}">
                <option value="png">PNG</option>
                <option value="jpeg">JPEG</option>
                <option value="webp">WebP</option>
              </select>
            </label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="convertImage(${index})">
                <i class="fas fa-sync-alt"></i> Convert Image
              </button>
              <button class="btn btn-secondary" onclick="downloadImage(${index})" id="download-btn-${index}" style="display:none">
                <i class="fas fa-download"></i> Download
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Image Compressor":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('compress-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload an image</p>
              <input type="file" id="compress-upload-${index}" accept="image/*" style="display:none" onchange="handleImageUpload(event, ${index})">
            </div>
            <div class="preview-container" id="preview-${index}"></div>
            <div class="slider-container">
              <label>Quality: <span id="quality-value-${index}">80%</span></label>
              <input type="range" min="1" max="100" value="80" class="slider" id="quality-${index}" oninput="updateQualityValue(${index})">
            </div>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="compressImage(${index})">
                <i class="fas fa-compress"></i> Compress Image
              </button>
              <button class="btn btn-secondary" onclick="downloadImage(${index})" id="download-btn-${index}" style="display:none">
                <i class="fas fa-download"></i> Download
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Image Cropper":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('crop-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload an image</p>
              <input type="file" id="crop-upload-${index}" accept="image/*" style="display:none" onchange="handleImageUpload(event, ${index})">
            </div>
            <div class="preview-container" id="preview-${index}"></div>
            <div class="aspect-ratio-buttons">
              <button class="aspect-ratio-button" onclick="setCropRatio(${index}, 1)">1:1</button>
              <button class="aspect-ratio-button" onclick="setCropRatio(${index}, 16/9)">16:9</button>
              <button class="aspect-ratio-button" onclick="setCropRatio(${index}, 4/3)">4:3</button>
              <button class="aspect-ratio-button active" onclick="setCropRatio(${index}, 0)">Freeform</button>
            </div>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="cropImage(${index})">
                <i class="fas fa-crop-alt"></i> Crop Image
              </button>
              <button class="btn btn-secondary" onclick="downloadImage(${index})" id="download-btn-${index}" style="display:none">
                <i class="fas fa-download"></i> Download
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Image Resizer":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('resize-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload an image</p>
              <input type="file" id="resize-upload-${index}" accept="image/*" style="display:none" onchange="handleImageUpload(event, ${index})">
            </div>
            <div class="preview-container" id="preview-${index}"></div>
            <label>Width: <input type="number" id="width-${index}" placeholder="Enter width"></label>
            <label>Height: <input type="number" id="height-${index}" placeholder="Enter height"></label>
            <label><input type="checkbox" id="maintain-ratio-${index}" checked> Maintain aspect ratio</label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="resizeImage(${index})">
                <i class="fas fa-expand-arrows-alt"></i> Resize Image
              </button>
              <button class="btn btn-secondary" onclick="downloadImage(${index})" id="download-btn-${index}" style="display:none">
                <i class="fas fa-download"></i> Download
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Image Watermarker":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('watermark-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload an image</p>
              <input type="file" id="watermark-upload-${index}" accept="image/*" style="display:none" onchange="handleImageUpload(event, ${index})">
            </div>
            <div class="preview-container" id="preview-${index}"></div>
            <div class="watermark-controls">
              <div class="watermark-control">
                <label>Watermark Text: <input type="text" id="watermark-text-${index}" placeholder="Enter watermark text"></label>
                <label>Font Size: <input type="number" id="font-size-${index}" value="30"></label>
                <label>Opacity: <input type="range" min="0" max="100" value="50" class="slider" id="opacity-${index}"></label>
              </div>
              <div class="watermark-control">
                <label>Position:
                  <select id="position-${index}">
                    <option value="top-left">Top Left</option>
                    <option value="top-right">Top Right</option>
                    <option value="bottom-left">Bottom Left</option>
                    <option value="bottom-right">Bottom Right</option>
                    <option value="center">Center</option>
                  </select>
                </label>
                <label>Color: <input type="color" id="color-${index}" value="#ffffff"></label>
                <button class="btn btn-primary" onclick="addWatermark(${index})">
                  <i class="fas fa-water"></i> Add Watermark
                </button>
              </div>
            </div>
            <div class="btn-group">
              <button class="btn btn-secondary" onclick="downloadImage(${index})" id="download-btn-${index}" style="display:none">
                <i class="fas fa-download"></i> Download
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Color Palette Extractor":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('palette-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload an image</p>
              <input type="file" id="palette-upload-${index}" accept="image/*" style="display:none" onchange="handleImageUpload(event, ${index})">
            </div>
            <div class="preview-container" id="preview-${index}"></div>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="extractPalette(${index})">
                <i class="fas fa-palette"></i> Extract Palette
              </button>
            </div>
            <div class="color-palette" id="palette-${index}"></div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Color Picker & Contrast Checker":
          content.innerHTML = `
            <div class="tabs">
              <div class="tab active" onclick="switchTab(${index}, 'picker')">Color Picker</div>
              <div class="tab" onclick="switchTab(${index}, 'contrast')">Contrast Checker</div>
            </div>
            <div class="tab-content active" id="picker-${index}">
              <label>Color: <input type="color" id="color-picker-${index}" value="#4361ee" onchange="updateColorPreview(${index})"></label>
              <div class="color-preview" id="color-preview-${index}" style="background:#4361ee"></div>
              <p>HEX: <span id="hex-${index}">#4361ee</span></p>
              <p>RGB: <span id="rgb-${index}">rgb(67, 97, 238)</span></p>
              <div class="btn-group">
                <button class="btn btn-secondary" onclick="copyToClipboard('hex-${index}')">
                  <i class="fas fa-copy"></i> Copy HEX
                </button>
                <button class="btn btn-secondary" onclick="copyToClipboard('rgb-${index}')">
                  <i class="fas fa-copy"></i> Copy RGB
                </button>
              </div>
            </div>
            <div class="tab-content" id="contrast-${index}">
              <label>Foreground Color: <input type="color" id="fg-color-${index}" value="#000000" onchange="checkContrast(${index})"></label>
              <label>Background Color: <input type="color" id="bg-color-${index}" value="#ffffff" onchange="checkContrast(${index})"></label>
              <div class="contrast-result" id="contrast-result-${index}">Contrast ratio: 21:1 (AAA)</div>
            </div>
          `;
          updateColorPreview(index);
          checkContrast(index);
          break;
          
        case "Favicon Generator":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('favicon-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload an image (512x512 or larger recommended)</p>
              <input type="file" id="favicon-upload-${index}" accept="image/*" style="display:none" onchange="handleImageUpload(event, ${index})">
            </div>
            <div class="preview-container" id="preview-${index}"></div>
            <div class="icon-grid" id="icon-grid-${index}">
              <!-- Icons will be generated here -->
            </div>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="generateFavicons(${index})">
                <i class="fas fa-icons"></i> Generate Favicons
              </button>
              <button class="btn btn-secondary" onclick="downloadFavicons(${index})" id="download-favicons-${index}" style="display:none">
                <i class="fas fa-download"></i> Download All
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Document Scanner":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('scanner-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload a document photo</p>
              <input type="file" id="scanner-upload-${index}" accept="image/*" style="display:none" onchange="handleImageUpload(event, ${index})">
            </div>
            <div class="scanner-preview" id="scanner-preview-${index}">
              Document preview will appear here
            </div>
            <div class="slider-container">
              <label>Brightness: <input type="range" min="-100" max="100" value="0" class="slider" id="brightness-${index}"></label>
              <label>Contrast: <input type="range" min="-100" max="100" value="0" class="slider" id="contrast-${index}"></label>
            </div>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="processDocument(${index})">
                <i class="fas fa-scanner"></i> Process Document
              </button>
              <button class="btn btn-secondary" onclick="downloadProcessedDocument(${index})" id="download-doc-${index}" style="display:none">
                <i class="fas fa-download"></i> Download
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Image Steganography":
          content.innerHTML = `
            <div class="tabs">
              <div class="tab active" onclick="switchTab(${index}, 'embed')">Embed Text</div>
              <div class="tab" onclick="switchTab(${index}, 'extract')">Extract Text</div>
            </div>
            <div class="tab-content active" id="embed-${index}">
              <div class="file-input" onclick="document.getElementById('steg-embed-upload-${index}').click()">
                <p><i class="fas fa-cloud-upload-alt"></i> Click to upload an image</p>
                <input type="file" id="steg-embed-upload-${index}" accept="image/*" style="display:none" onchange="handleImageUpload(event, ${index})">
              </div>
              <div class="preview-container" id="preview-${index}"></div>
              <label>Secret Message: <textarea id="secret-message-${index}" placeholder="Enter your secret message"></textarea></label>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="embedText(${index})">
                  <i class="fas fa-lock"></i> Embed Text
                </button>
                <button class="btn btn-secondary" onclick="downloadImage(${index})" id="download-steg-${index}" style="display:none">
                  <i class="fas fa-download"></i> Download
                </button>
              </div>
            </div>
            <div class="tab-content" id="extract-${index}">
              <div class="file-input" onclick="document.getElementById('steg-extract-upload-${index}').click()">
                <p><i class="fas fa-cloud-upload-alt"></i> Click to upload a steganographic image</p>
                <input type="file" id="steg-extract-upload-${index}" accept="image/*" style="display:none" onchange="handleImageUpload(event, ${index})">
              </div>
              <div class="preview-container" id="preview-extract-${index}"></div>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="extractText(${index})">
                  <i class="fas fa-unlock"></i> Extract Text
                </button>
              </div>
              <div class="result-container" id="extracted-text-${index}"></div>
            </div>
          `;
          break;
          
        case "Audio Converter":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('audio-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload an audio file (WAV, MP3, OGG)</p>
              <input type="file" id="audio-upload-${index}" accept="audio/*" style="display:none" onchange="handleAudioUpload(event, ${index})">
            </div>
            <div class="audio-waveform" id="audio-waveform-${index}">
              Audio waveform will appear here
            </div>
            <label>Convert to:
              <select id="audio-format-${index}">
                <option value="wav">WAV</option>
                <option value="mp3">MP3</option>
                <option value="ogg">OGG</option>
              </select>
            </label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="convertAudio(${index})">
                <i class="fas fa-sync-alt"></i> Convert Audio
              </button>
              <button class="btn btn-secondary" onclick="downloadAudio(${index})" id="download-audio-${index}" style="display:none">
                <i class="fas fa-download"></i> Download
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Audio Trimmer":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('trim-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload an audio file</p>
              <input type="file" id="trim-upload-${index}" accept="audio/*" style="display:none" onchange="handleAudioUpload(event, ${index})">
            </div>
            <div class="audio-waveform" id="trim-waveform-${index}">
              Audio waveform will appear here
            </div>
            <div class="slider-container">
              <label>Start Time: <span id="start-time-${index}">0:00</span></label>
              <input type="range" min="0" max="100" value="0" class="slider" id="start-slider-${index}" oninput="updateTrimTime(${index}, 'start')">
              <label>End Time: <span id="end-time-${index}">0:00</span></label>
              <input type="range" min="0" max="100" value="100" class="slider" id="end-slider-${index}" oninput="updateTrimTime(${index}, 'end')">
            </div>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="trimAudio(${index})">
                <i class="fas fa-cut"></i> Trim Audio
              </button>
              <button class="btn btn-secondary" onclick="downloadAudio(${index})" id="download-trim-${index}" style="display:none">
                <i class="fas fa-download"></i> Download
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Video Container Swapper":
          content.innerHTML = `
            <div class="file-input" onclick="document.getElementById('video-upload-${index}').click()">
              <p><i class="fas fa-cloud-upload-alt"></i> Click to upload a video file (MP4, WebM, MOV)</p>
              <input type="file" id="video-upload-${index}" accept="video/*" style="display:none" onchange="handleVideoUpload(event, ${index})">
            </div>
            <div class="video-preview" id="video-preview-${index}">
              Video preview will appear here
            </div>
            <label>Convert to:
              <select id="video-format-${index}">
                <option value="mp4">MP4</option>
                <option value="webm">WebM</option>
                <option value="mov">MOV</option>
              </select>
            </label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="swapVideoContainer(${index})">
                <i class="fas fa-sync-alt"></i> Swap Container
              </button>
              <button class="btn btn-secondary" onclick="downloadVideo(${index})" id="download-video-${index}" style="display:none">
                <i class="fas fa-download"></i> Download
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "EMI Calculator":
          content.innerHTML = `
            <label>Loan Amount (₹): <input type="number" id="loan-amount-${index}" placeholder="Enter loan amount"></label>
            <label>Interest Rate (% per annum): <input type="number" step="0.01" id="interest-rate-${index}" placeholder="Enter interest rate"></label>
            <label>Loan Tenure (years): <input type="number" id="loan-tenure-${index}" placeholder="Enter loan tenure"></label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="calculateEMI(${index})">
                <i class="fas fa-calculator"></i> Calculate EMI
              </button>
            </div>
            <div class="result-container" id="emi-result-${index}"></div>
            <div class="amortization-table-container" id="amortization-${index}"></div>
          `;
          break;
          
        case "SIP Calculator":
          content.innerHTML = `
            <label>Monthly Investment (₹): <input type="number" id="monthly-investment-${index}" placeholder="Enter monthly investment"></label>
            <label>Expected Return Rate (% per annum): <input type="number" step="0.01" id="return-rate-${index}" placeholder="Enter return rate"></label>
            <label>Investment Duration (years): <input type="number" id="investment-duration-${index}" placeholder="Enter duration"></label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="calculateSIP(${index})">
                <i class="fas fa-chart-line"></i> Calculate SIP
              </button>
            </div>
            <div class="result-container" id="sip-result-${index}"></div>
            <div class="sip-chart" id="sip-chart-${index}"></div>
          `;
          break;
          
        case "Unit Price Calculator":
          content.innerHTML = `
            <div class="price-comparison" id="price-comparison-${index}">
              <div class="price-item">
                <h3>Product 1</h3>
                <label>Price (₹): <input type="number" id="price1-${index}" placeholder="Enter price"></label>
                <label>Quantity: <input type="number" id="quantity1-${index}" placeholder="Enter quantity"></label>
                <div class="result-container" id="unit-price1-${index}">Unit Price: ₹0.00</div>
              </div>
              <div class="price-item">
                <h3>Product 2</h3>
                <label>Price (₹): <input type="number" id="price2-${index}" placeholder="Enter price"></label>
                <label>Quantity: <input type="number" id="quantity2-${index}" placeholder="Enter quantity"></label>
                <div class="result-container" id="unit-price2-${index}">Unit Price: ₹0.00</div>
              </div>
            </div>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="calculateUnitPrices(${index})">
                <i class="fas fa-balance-scale"></i> Calculate Unit Prices
              </button>
            </div>
            <div class="result-container" id="best-value-${index}"></div>
          `;
          break;
          
        case "Text Minifier / Beautifier":
          content.innerHTML = `
            <div class="tabs">
              <div class="tab active" onclick="switchTab(${index}, 'html')">HTML</div>
              <div class="tab" onclick="switchTab(${index}, 'css')">CSS</div>
              <div class="tab" onclick="switchTab(${index}, 'js')">JavaScript</div>
            </div>
            <div class="tab-content active" id="html-${index}">
              <textarea class="code-editor" id="html-input-${index}" placeholder="Enter HTML code..."></textarea>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="beautifyHTML(${index})">
                  <i class="fas fa-code"></i> Beautify HTML
                </button>
                <button class="btn btn-secondary" onclick="minifyHTML(${index})">
                  <i class="fas fa-compress"></i> Minify HTML
                </button>
                <button class="btn btn-secondary" onclick="copyToClipboard('html-output-${index}')">
                  <i class="fas fa-copy"></i> Copy Result
                </button>
              </div>
              <textarea class="code-editor" id="html-output-${index}" readonly></textarea>
            </div>
            <div class="tab-content" id="css-${index}">
              <textarea class="code-editor" id="css-input-${index}" placeholder="Enter CSS code..."></textarea>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="beautifyCSS(${index})">
                  <i class="fas fa-code"></i> Beautify CSS
                </button>
                <button class="btn btn-secondary" onclick="minifyCSS(${index})">
                  <i class="fas fa-compress"></i> Minify CSS
                </button>
                <button class="btn btn-secondary" onclick="copyToClipboard('css-output-${index}')">
                  <i class="fas fa-copy"></i> Copy Result
                </button>
              </div>
              <textarea class="code-editor" id="css-output-${index}" readonly></textarea>
            </div>
            <div class="tab-content" id="js-${index}">
              <textarea class="code-editor" id="js-input-${index}" placeholder="Enter JavaScript code..."></textarea>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="beautifyJS(${index})">
                  <i class="fas fa-code"></i> Beautify JS
                </button>
                <button class="btn btn-secondary" onclick="minifyJS(${index})">
                  <i class="fas fa-compress"></i> Minify JS
                </button>
                <button class="btn btn-secondary" onclick="copyToClipboard('js-output-${index}')">
                  <i class="fas fa-copy"></i> Copy Result
                </button>
              </div>
              <textarea class="code-editor" id="js-output-${index}" readonly></textarea>
            </div>
          `;
          break;
          
        case "CSV to JSON Converter":
          content.innerHTML = `
            <div class="tabs">
              <div class="tab active" onclick="switchTab(${index}, 'csv-to-json')">CSV to JSON</div>
              <div class="tab" onclick="switchTab(${index}, 'json-to-csv')">JSON to CSV</div>
            </div>
            <div class="tab-content active" id="csv-to-json-${index}">
              <textarea id="csv-input-${index}" placeholder="Enter CSV data..."></textarea>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="convertCSVToJSON(${index})">
                  <i class="fas fa-exchange-alt"></i> Convert to JSON
                </button>
                <button class="btn btn-secondary" onclick="copyToClipboard('csv-json-result-${index}')">
                  <i class="fas fa-copy"></i> Copy JSON
                </button>
              </div>
              <div class="result-container" id="csv-json-result-${index}"></div>
            </div>
            <div class="tab-content" id="json-to-csv-${index}">
              <textarea id="json-input-${index}" placeholder='Enter JSON data...'></textarea>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="convertJSONToCSV(${index})">
                  <i class="fas fa-exchange-alt"></i> Convert to CSV
                </button>
                <button class="btn btn-secondary" onclick="copyToClipboard('json-csv-result-${index}')">
                  <i class="fas fa-copy"></i> Copy CSV
                </button>
              </div>
              <div class="result-container" id="json-csv-result-${index}"></div>
            </div>
          `;
          break;
          
        case "Password Generator":
          content.innerHTML = `
            <label>Password Length: <input type="number" id="pass-length-${index}" value="12" min="4" max="128"></label>
            <label><input type="checkbox" id="uppercase-${index}" checked> Include Uppercase Letters</label>
            <label><input type="checkbox" id="lowercase-${index}" checked> Include Lowercase Letters</label>
            <label><input type="checkbox" id="numbers-${index}" checked> Include Numbers</label>
            <label><input type="checkbox" id="symbols-${index}"> Include Symbols</label>
            <label><input type="checkbox" id="pronounceable-${index}"> Pronounceable</label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="generatePassword(${index})">
                <i class="fas fa-key"></i> Generate Password
              </button>
              <button class="btn btn-secondary" onclick="copyToClipboard('result-${index}')">
                <i class="fas fa-copy"></i> Copy to Clipboard
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Hash Generator":
          content.innerHTML = `
            <textarea id="hash-input-${index}" placeholder="Enter text to hash..." rows="4"></textarea>
            <label>Algorithm:
              <select id="hash-algo-${index}">
                <option value="md5">MD5</option>
                <option value="sha1">SHA-1</option>
                <option value="sha256">SHA-256</option>
              </select>
            </label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="generateHash(${index})">
                <i class="fas fa-hashtag"></i> Generate Hash
              </button>
              <button class="btn btn-secondary" onclick="copyToClipboard('result-${index}')">
                <i class="fas fa-copy"></i> Copy to Clipboard
              </button>
            </div>
            <div class="result-container hash-result" id="result-${index}"></div>
          `;
          break;
          
        case "Case Converter":
          content.innerHTML = `
            <textarea id="case-input-${index}" placeholder="Enter text to convert..."></textarea>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="convertCase(${index}, 'upper')">
                <i class="fas fa-text-height"></i> UPPERCASE
              </button>
              <button class="btn btn-primary" onclick="convertCase(${index}, 'lower')">
                <i class="fas fa-text-height"></i> lowercase
              </button>
              <button class="btn btn-primary" onclick="convertCase(${index}, 'title')">
                <i class="fas fa-text-height"></i> Title Case
              </button>
              <button class="btn btn-primary" onclick="convertCase(${index}, 'sentence')">
                <i class="fas fa-text-height"></i> Sentence case
              </button>
              <button class="btn btn-primary" onclick="convertCase(${index}, 'camel')">
                <i class="fas fa-text-height"></i> camelCase
              </button>
              <button class="btn btn-primary" onclick="convertCase(${index}, 'pascal')">
                <i class="fas fa-text-height"></i> PascalCase
              </button>
              <button class="btn btn-secondary" onclick="copyToClipboard('result-${index}')">
                <i class="fas fa-copy"></i> Copy Result
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "QR Code Generator":
          content.innerHTML = `
            <textarea id="qr-input-${index}" placeholder="Enter text or URL to generate QR code..."></textarea>
            <label>Size: <input type="range" min="100" max="500" value="200" class="slider" id="qr-size-${index}"></label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="generateQRCode(${index})">
                <i class="fas fa-qrcode"></i> Generate QR Code
              </button>
              <button class="btn btn-secondary" onclick="downloadQRCode(${index})" id="qr-download-${index}" style="display:none">
                <i class="fas fa-download"></i> Download QR Code
              </button>
            </div>
            <div class="qr-code" id="qr-output-${index}"></div>
          `;
          break;
          
        case "Timer / Stopwatch":
          content.innerHTML = `
            <div class="timer-display" id="timer-display-${index}">00:00:00</div>
            <div class="timer-controls">
              <button class="btn btn-primary" onclick="startTimer(${index})">
                <i class="fas fa-play"></i> Start
              </button>
              <button class="btn btn-secondary" onclick="pauseTimer(${index})">
                <i class="fas fa-pause"></i> Pause
              </button>
              <button class="btn btn-secondary" onclick="resetTimer(${index})">
                <i class="fas fa-redo"></i> Reset
              </button>
              <button class="btn btn-secondary" onclick="lapTimer(${index})">
                <i class="fas fa-flag"></i> Lap
              </button>
            </div>
            <div class="lap-times" id="lap-times-${index}"></div>
          `;
          break;
          
        case "Unit Converter":
          content.innerHTML = `
            <div class="unit-converter">
              <select id="unit-type-${index}" onchange="updateUnitOptions(${index})">
                <option value="length">Length</option>
                <option value="weight">Weight</option>
                <option value="temperature">Temperature</option>
                <option value="data">Data Size</option>
              </select>
              <select id="from-unit-${index}"></select>
              <input type="number" id="from-value-${index}" value="1" oninput="convertUnit(${index})">
              <select id="to-unit-${index}"></select>
              <input type="number" id="to-value-${index}" readonly>
            </div>
          `;
          updateUnitOptions(index);
          convertUnit(index);
          break;
          
        case "BMI Calculator":
          content.innerHTML = `
            <label>Height (cm): <input type="number" id="height-${index}" placeholder="Enter height in cm"></label>
            <label>Weight (kg): <input type="number" id="weight-${index}" placeholder="Enter weight in kg"></label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="calculateBMI(${index})">
                <i class="fas fa-calculator"></i> Calculate BMI
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Age Calculator":
          content.innerHTML = `
            <label>Date of Birth: <input type="date" id="dob-${index}"></label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="calculateAge(${index})">
                <i class="fas fa-calculator"></i> Calculate Age
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "Text to Speech":
          content.innerHTML = `
            <textarea id="tts-input-${index}" placeholder="Enter text to speak...">Welcome to RUSHL All in One Tool!</textarea>
            <label>Voice: <select id="voice-${index}"></select></label>
            <label>Rate: <input type="range" min="0.5" max="2" step="0.1" value="1" class="slider" id="rate-${index}"></label>
            <label>Pitch: <input type="range" min="0" max="2" step="0.1" value="1" class="slider" id="pitch-${index}"></label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="speakText(${index})">
                <i class="fas fa-volume-up"></i> Speak
              </button>
              <button class="btn btn-secondary" onclick="stopSpeech(${index})">
                <i class="fas fa-stop"></i> Stop
              </button>
            </div>
          `;
          populateVoices(index);
          break;
          
        case "Speech to Text":
          content.innerHTML = `
            <div class="result-container" id="result-${index}">Click Start and speak into your microphone...</div>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="startSpeechRecognition(${index})">
                <i class="fas fa-microphone"></i> Start Recognition
              </button>
              <button class="btn btn-secondary" onclick="stopSpeechRecognition(${index})">
                <i class="fas fa-stop"></i> Stop Recognition
              </button>
            </div>
          `;
          break;
          
        case "Word & Character Counter":
          content.innerHTML = `
            <textarea id="counter-input-${index}" placeholder="Enter text to count..." oninput="countText(${index})"></textarea>
            <div class="result-container">
              <p>Words: <span id="words-${index}">0</span></p>
              <p>Characters: <span id="chars-${index}">0</span></p>
              <p>Characters (no spaces): <span id="chars-no-spaces-${index}">0</span></p>
              <p>Sentences: <span id="sentences-${index}">0</span></p>
              <p>Paragraphs: <span id="paragraphs-${index}">0</span></p>
              <p>Reading Time: <span id="reading-time-${index}">0</span> minutes</p>
            </div>
          `;
          break;
          
        case "Regex Tester":
          content.innerHTML = `
            <label>Regular Expression: <input type="text" id="regex-${index}" placeholder="Enter regex pattern"></label>
            <label>Test String: <textarea id="test-string-${index}" placeholder="Enter text to test..."></textarea></label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="testRegex(${index})">
                <i class="fas fa-search"></i> Test Regex
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        case "JSON Formatter & Validator":
          content.innerHTML = `
            <div class="tabs">
              <div class="tab active" onclick="switchTab(${index}, 'formatter')">Formatter</div>
              <div class="tab" onclick="switchTab(${index}, 'validator')">Validator</div>
            </div>
            <div class="tab-content active" id="formatter-${index}">
              <textarea class="json-editor" id="json-input-${index}" placeholder='{"name": "John", "age": 30}'></textarea>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="formatJSON(${index})">
                  <i class="fas fa-code"></i> Format JSON
                </button>
                <button class="btn btn-secondary" onclick="minifyJSON(${index})">
                  <i class="fas fa-compress"></i> Minify JSON
                </button>
                <button class="btn btn-secondary" onclick="copyToClipboard('json-output-${index}')">
                  <i class="fas fa-copy"></i> Copy Result
                </button>
              </div>
              <textarea class="json-editor" id="json-output-${index}" readonly></textarea>
            </div>
            <div class="tab-content" id="validator-${index}">
              <textarea class="json-editor" id="json-validate-${index}" placeholder='{"name": "John", "age": 30}'></textarea>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="validateJSON(${index})">
                  <i class="fas fa-check-circle"></i> Validate JSON
                </button>
              </div>
              <div class="result-container" id="validate-result-${index}"></div>
            </div>
          `;
          break;
          
        case "Base64 Encoder / Decoder":
          content.innerHTML = `
            <div class="tabs">
              <div class="tab active" onclick="switchTab(${index}, 'encode')">Encode</div>
              <div class="tab" onclick="switchTab(${index}, 'decode')">Decode</div>
            </div>
            <div class="tab-content active" id="encode-${index}">
              <textarea id="encode-input-${index}" placeholder="Enter text to encode..."></textarea>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="encodeBase64(${index})">
                  <i class="fas fa-lock"></i> Encode to Base64
                </button>
                <button class="btn btn-secondary" onclick="copyToClipboard('encode-result-${index}')">
                  <i class="fas fa-copy"></i> Copy to Clipboard
                </button>
              </div>
              <div class="result-container" id="encode-result-${index}"></div>
            </div>
            <div class="tab-content" id="decode-${index}">
              <textarea id="decode-input-${index}" placeholder="Enter Base64 string to decode..."></textarea>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="decodeBase64(${index})">
                  <i class="fas fa-unlock"></i> Decode Base64
                </button>
                <button class="btn btn-secondary" onclick="copyToClipboard('decode-result-${index}')">
                  <i class="fas fa-copy"></i> Copy to Clipboard
                </button>
              </div>
              <div class="result-container" id="decode-result-${index}"></div>
            </div>
          `;
          break;
          
        case "Lorem Ipsum Generator":
          content.innerHTML = `
            <label>Paragraphs: <input type="number" id="lorem-paragraphs-${index}" value="3" min="1" max="20"></label>
            <label>Sentences per paragraph: <input type="number" id="lorem-sentences-${index}" value="5" min="1" max="20"></label>
            <div class="btn-group">
              <button class="btn btn-primary" onclick="generateLoremIpsum(${index})">
                <i class="fas fa-file-alt"></i> Generate Text
              </button>
              <button class="btn btn-secondary" onclick="copyToClipboard('result-${index}')">
                <i class="fas fa-copy"></i> Copy to Clipboard
              </button>
            </div>
            <div class="result-container" id="result-${index}"></div>
          `;
          break;
          
        default:
          content.innerHTML = `<p>This tool is under development. Please check back later!</p>`;
      }
    }

    // Utility functions
    function toggleTheme() {
      document.body.classList.toggle("dark-mode");
      const icon = document.querySelector(".theme-toggle i");
      if (document.body.classList.contains("dark-mode")) {
        icon.className = "fas fa-sun";
      } else {
        icon.className = "fas fa-moon";
      }
    }

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    window.addEventListener('scroll', () => {
      const scrollTop = document.querySelector('.scroll-top');
      if (window.pageYOffset > 300) {
        scrollTop.classList.add('visible');
      } else {
        scrollTop.classList.remove('visible');
      }
    });

    function copyToClipboard(elementId) {
      const element = document.getElementById(elementId);
      const text = element.textContent || element.innerText;
      
      if (text) {
        navigator.clipboard.writeText(text).then(() => {
          showNotification("Copied to clipboard!");
        });
      }
    }

    function showNotification(message) {
      const notification = document.getElementById('notification');
      const textElement = document.getElementById('notification-text');
      textElement.textContent = message;
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }

    // Tool implementations
    function handleImageUpload(event, index) {
      const file = event.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(e) {
        const preview = document.getElementById(`preview-${index}`);
        preview.innerHTML = `<img src="${e.target.result}" id="image-${index}">`;
      };
      reader.readAsDataURL(file);
    }

    function convertImage(index) {
      const image = document.getElementById(`image-${index}`);
      if (!image) {
        showNotification("Please upload an image first");
        return;
      }
      
      const format = document.getElementById(`format-${index}`).value;
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-btn-${index}`);
      
      result.innerHTML = `<p>Converting image to ${format.toUpperCase()}...</p>`;
      
      setTimeout(() => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = image.width;
        canvas.height = image.height;
        ctx.drawImage(image, 0, 0);
        
        let mimeType = 'image/png';
        if (format === 'jpeg') mimeType = 'image/jpeg';
        if (format === 'webp') mimeType = 'image/webp';
        
        canvas.toBlob(function(blob) {
          const url = URL.createObjectURL(blob);
          result.innerHTML = `<p>Conversion complete! Your ${format.toUpperCase()} image is ready.</p>`;
          downloadBtn.style.display = 'inline-flex';
          downloadBtn.onclick = function() {
            const a = document.createElement('a');
            a.href = url;
            a.download = `converted-image.${format}`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          };
        }, mimeType, 0.9);
      }, 1000);
    }

    function downloadImage(index) {
      // This function is called when the download button is clicked
      // The actual download logic is handled in the tool-specific functions
    }

    function updateQualityValue(index) {
      const quality = document.getElementById(`quality-${index}`).value;
      document.getElementById(`quality-value-${index}`).textContent = `${quality}%`;
    }

    function compressImage(index) {
      const image = document.getElementById(`image-${index}`);
      if (!image) {
        showNotification("Please upload an image first");
        return;
      }
      
      const quality = document.getElementById(`quality-${index}`).value / 100;
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-btn-${index}`);
      
      result.innerHTML = `<p>Compressing image at ${quality * 100}% quality...</p>`;
      
      setTimeout(() => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = image.width;
        canvas.height = image.height;
        ctx.drawImage(image, 0, 0);
        
        canvas.toBlob(function(blob) {
          const url = URL.createObjectURL(blob);
          result.innerHTML = `<p>Compression complete! Your compressed image is ready.</p>`;
          downloadBtn.style.display = 'inline-flex';
          downloadBtn.onclick = function() {
            const a = document.createElement('a');
            a.href = url;
            a.download = 'compressed-image.jpg';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          };
        }, 'image/jpeg', quality);
      }, 1000);
    }

    function setCropRatio(index, ratio) {
      // In a real implementation, this would set the cropping ratio
      document.querySelectorAll('.aspect-ratio-button').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
    }

    function cropImage(index) {
      const image = document.getElementById(`image-${index}`);
      if (!image) {
        showNotification("Please upload an image first");
        return;
      }
      
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-btn-${index}`);
      
      result.innerHTML = `<p>Cropping image...</p>`;
      
      setTimeout(() => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = image.width * 0.8;
        canvas.height = image.height * 0.8;
        ctx.drawImage(image, image.width * 0.1, image.height * 0.1, 
                      image.width * 0.8, image.height * 0.8, 
                      0, 0, canvas.width, canvas.height);
        
        canvas.toBlob(function(blob) {
          const url = URL.createObjectURL(blob);
          result.innerHTML = `<p>Cropping complete! Your cropped image is ready.</p>`;
          downloadBtn.style.display = 'inline-flex';
          downloadBtn.onclick = function() {
            const a = document.createElement('a');
            a.href = url;
            a.download = 'cropped-image.jpg';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          };
        }, 'image/jpeg', 0.9);
      }, 1000);
    }

    function resizeImage(index) {
      const image = document.getElementById(`image-${index}`);
      if (!image) {
        showNotification("Please upload an image first");
        return;
      }
      
      const width = parseInt(document.getElementById(`width-${index}`).value);
      const height = parseInt(document.getElementById(`height-${index}`).value);
      
      if (isNaN(width) || isNaN(height)) {
        showNotification("Please enter valid width and height");
        return;
      }
      
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-btn-${index}`);
      
      result.innerHTML = `<p>Resizing image to ${width}x${height}...</p>`;
      
      setTimeout(() => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = width;
        canvas.height = height;
        ctx.drawImage(image, 0, 0, width, height);
        
        canvas.toBlob(function(blob) {
          const url = URL.createObjectURL(blob);
          result.innerHTML = `<p>Resizing complete! Your resized image is ready.</p>`;
          downloadBtn.style.display = 'inline-flex';
          downloadBtn.onclick = function() {
            const a = document.createElement('a');
            a.href = url;
            a.download = 'resized-image.jpg';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          };
        }, 'image/jpeg', 0.9);
      }, 1000);
    }

    function addWatermark(index) {
      const image = document.getElementById(`image-${index}`);
      if (!image) {
        showNotification("Please upload an image first");
        return;
      }
      
      const text = document.getElementById(`watermark-text-${index}`).value;
      if (!text) {
        showNotification("Please enter watermark text");
        return;
      }
      
      const fontSize = document.getElementById(`font-size-${index}`).value;
      const opacity = document.getElementById(`opacity-${index}`).value / 100;
      const position = document.getElementById(`position-${index}`).value;
      const color = document.getElementById(`color-${index}`).value;
      
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-btn-${index}`);
      
      result.innerHTML = `<p>Adding watermark to image...</p>`;
      
      setTimeout(() => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = image.width;
        canvas.height = image.height;
        ctx.drawImage(image, 0, 0);
        
        ctx.font = `${fontSize}px Arial`;
        ctx.fillStyle = color;
        ctx.globalAlpha = opacity;
        
        let x, y;
        const textWidth = ctx.measureText(text).width;
        
        switch(position) {
          case 'top-left':
            x = 20; y = parseInt(fontSize) + 20;
            break;
          case 'top-right':
            x = canvas.width - textWidth - 20; y = parseInt(fontSize) + 20;
            break;
          case 'bottom-left':
            x = 20; y = canvas.height - 20;
            break;
          case 'bottom-right':
            x = canvas.width - textWidth - 20; y = canvas.height - 20;
            break;
          case 'center':
            x = (canvas.width - textWidth) / 2; y = canvas.height / 2;
            break;
        }
        
        ctx.fillText(text, x, y);
        
        canvas.toBlob(function(blob) {
          const url = URL.createObjectURL(blob);
          result.innerHTML = `<p>Watermark added! Your watermarked image is ready.</p>`;
          downloadBtn.style.display = 'inline-flex';
          downloadBtn.onclick = function() {
            const a = document.createElement('a');
            a.href = url;
            a.download = 'watermarked-image.jpg';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          };
        }, 'image/jpeg', 0.9);
      }, 1000);
    }

    function extractPalette(index) {
      const image = document.getElementById(`image-${index}`);
      if (!image) {
        showNotification("Please upload an image first");
        return;
      }
      
      const paletteContainer = document.getElementById(`palette-${index}`);
      const result = document.getElementById(`result-${index}`);
      
      result.innerHTML = `<p>Extracting color palette...</p>`;
      paletteContainer.innerHTML = '';
      
      setTimeout(() => {
        // Simulate color extraction
        const colors = [
          { hex: '#4361ee', name: 'Royal Blue' },
          { hex: '#3a0ca3', name: 'Indigo' },
          { hex: '#4cc9f0', name: 'Sky Blue' },
          { hex: '#f72585', name: 'Pink' },
          { hex: '#7209b7', name: 'Purple' }
        ];
        
        colors.forEach(color => {
          const colorItem = document.createElement('div');
          colorItem.className = 'color-item';
          colorItem.innerHTML = `
            <div class="color-swatch" style="background:${color.hex}"></div>
            <div>${color.name}</div>
            <div>${color.hex}</div>
          `;
          paletteContainer.appendChild(colorItem);
        });
        
        result.innerHTML = `<p>Color palette extracted successfully!</p>`;
      }, 1500);
    }

    function switchTab(index, tabName) {
      // Hide all tab contents
      document.querySelectorAll(`#content-${index} .tab-content`).forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Remove active class from all tabs
      document.querySelectorAll(`#content-${index} .tab`).forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Show the selected tab content
      document.getElementById(`${tabName}-${index}`).classList.add('active');
      
      // Add active class to the clicked tab
      event.target.classList.add('active');
    }

    function updateColorPreview(index) {
      const color = document.getElementById(`color-picker-${index}`).value;
      document.getElementById(`color-preview-${index}`).style.background = color;
      document.getElementById(`hex-${index}`).textContent = color;
      
      // Convert hex to RGB
      const r = parseInt(color.substr(1, 2), 16);
      const g = parseInt(color.substr(3, 2), 16);
      const b = parseInt(color.substr(5, 2), 16);
      document.getElementById(`rgb-${index}`).textContent = `rgb(${r}, ${g}, ${b})`;
    }

    function checkContrast(index) {
      const fg = document.getElementById(`fg-color-${index}`).value;
      const bg = document.getElementById(`bg-color-${index}`).value;
      
      // Convert hex to RGB
      function hexToRgb(hex) {
        const r = parseInt(hex.substr(1, 2), 16);
        const g = parseInt(hex.substr(3, 2), 16);
        const b = parseInt(hex.substr(5, 2), 16);
        return [r, g, b];
      }
      
      // Calculate relative luminance
      function getLuminance(rgb) {
        const [r, g, b] = rgb.map(v => {
          v /= 255;
          return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);
        });
        return 0.2126 * r + 0.7152 * g + 0.0722 * b;
      }
      
      const fgLum = getLuminance(hexToRgb(fg));
      const bgLum = getLuminance(hexToRgb(bg));
      
      const ratio = (Math.max(fgLum, bgLum) + 0.05) / (Math.min(fgLum, bgLum) + 0.05);
      
      let level = '';
      if (ratio >= 7) level = 'AAA';
      else if (ratio >= 4.5) level = 'AA';
      else if (ratio >= 3) level = 'AA (large)';
      else level = 'Fail';
      
      document.getElementById(`contrast-result-${index}`).innerHTML = 
        `Contrast ratio: ${ratio.toFixed(2)}:1 (${level})`;
    }

    function generateFavicons(index) {
      const image = document.getElementById(`image-${index}`);
      if (!image) {
        showNotification("Please upload an image first");
        return;
      }
      
      const iconGrid = document.getElementById(`icon-grid-${index}`);
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-favicons-${index}`);
      
      result.innerHTML = `<p>Generating favicons...</p>`;
      iconGrid.innerHTML = '';
      
      setTimeout(() => {
        // Generate favicon sizes
        const sizes = [16, 32, 48, 64, 128, 256, 512];
        
        sizes.forEach(size => {
          const iconItem = document.createElement('div');
          iconItem.className = 'icon-item';
          iconItem.innerHTML = `
            <div style="width:${size/8}px; height:${size/8}px; background:#4361ee; margin:0 auto; border-radius:4px;"></div>
            <div>${size}x${size}</div>
          `;
          iconGrid.appendChild(iconItem);
        });
        
        result.innerHTML = `<p>Favicons generated successfully!</p>`;
        downloadBtn.style.display = 'inline-flex';
        downloadBtn.onclick = function() {
          showNotification("In a real implementation, this would generate and download a ZIP file with all favicon sizes.");
        };
      }, 1500);
    }

    function downloadFavicons(index) {
      // This function is called when the download button is clicked
      showNotification("In a real implementation, this would generate and download a ZIP file with all favicon sizes.");
    }

    function processDocument(index) {
      const image = document.getElementById(`image-${index}`);
      if (!image) {
        showNotification("Please upload a document photo first");
        return;
      }
      
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-doc-${index}`);
      
      result.innerHTML = `<p>Processing document...</p>`;
      
      setTimeout(() => {
        const preview = document.getElementById(`scanner-preview-${index}`);
        preview.innerHTML = `
          <div style="width:100%; height:100%; background:white; display:flex; align-items:center; justify-content:center; color:black; font-weight:bold; flex-direction:column;">
            <i class="fas fa-file-alt" style="font-size:3rem; margin-bottom:1rem;"></i>
            <div>Processed Document</div>
            <div style="font-size:0.8rem; font-weight:normal; margin-top:0.5rem;">Enhanced with filters</div>
          </div>
        `;
        result.innerHTML = `<p>Document processing complete! Your enhanced document is ready.</p>`;
        downloadBtn.style.display = 'inline-flex';
        downloadBtn.onclick = function() {
          showNotification("In a real implementation, this would download the processed document as PDF/JPEG.");
        };
      }, 1500);
    }

    function downloadProcessedDocument(index) {
      // This function is called when the download button is clicked
      showNotification("In a real implementation, this would download the processed document as PDF/JPEG.");
    }

    function embedText(index) {
      const image = document.getElementById(`image-${index}`);
      if (!image) {
        showNotification("Please upload an image first");
        return;
      }
      
      const message = document.getElementById(`secret-message-${index}`).value;
      if (!message) {
        showNotification("Please enter a secret message");
        return;
      }
      
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-steg-${index}`);
      
      result.innerHTML = `<p>Embedding text into image...</p>`;
      
      setTimeout(() => {
        // Simulate steganography
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = image.width;
        canvas.height = image.height;
        ctx.drawImage(image, 0, 0);
        
        // Add a visual indicator
        ctx.fillStyle = 'rgba(255, 0, 0, 0.3)';
        ctx.fillRect(0, 0, 50, 50);
        ctx.fillStyle = 'white';
        ctx.font = '12px Arial';
        ctx.fillText('STEG', 10, 30);
        
        canvas.toBlob(function(blob) {
          const url = URL.createObjectURL(blob);
          result.innerHTML = `<p>Text embedded successfully! Your steganographic image is ready.</p>`;
          downloadBtn.style.display = 'inline-flex';
          downloadBtn.onclick = function() {
            const a = document.createElement('a');
            a.href = url;
            a.download = 'steganographic-image.png';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          };
        }, 'image/png');
      }, 1500);
    }

    function extractText(index) {
      const image = document.getElementById(`image-${index}`);
      if (!image) {
        showNotification("Please upload a steganographic image first");
        return;
      }
      
      const result = document.getElementById(`extracted-text-${index}`);
      
      result.innerHTML = `<p>Extracting text from image...</p>`;
      
      setTimeout(() => {
        // Simulate text extraction
        result.innerHTML = `<p><strong>Extracted message:</strong> This is a hidden message embedded in the image!</p>`;
      }, 1500);
    }

    function handleAudioUpload(event, index) {
      const file = event.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(e) {
        const waveform = document.getElementById(`audio-waveform-${index}`);
        waveform.innerHTML = '';
        
        // Generate a simple waveform visualization
        for (let i = 0; i < 100; i++) {
          const bar = document.createElement('div');
          bar.className = 'audio-waveform-bar';
          bar.style.left = `${i * 3}px`;
          bar.style.height = `${Math.random() * 80 + 20}px`;
          waveform.appendChild(bar);
        }
      };
      reader.readAsDataURL(file);
    }

    function convertAudio(index) {
      const waveform = document.getElementById(`audio-waveform-${index}`);
      if (!waveform.innerHTML) {
        showNotification("Please upload an audio file first");
        return;
      }
      
      const format = document.getElementById(`audio-format-${index}`).value;
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-audio-${index}`);
      
      result.innerHTML = `<p>Converting audio to ${format.toUpperCase()}...</p>`;
      
      setTimeout(() => {
        // Simulate audio conversion
        const url = URL.createObjectURL(new Blob(['audio data'], { type: 'audio/' + format }));
        result.innerHTML = `<p>Conversion complete! Your ${format.toUpperCase()} audio is ready.</p>`;
        downloadBtn.style.display = 'inline-flex';
        downloadBtn.onclick = function() {
          const a = document.createElement('a');
          a.href = url;
          a.download = `converted-audio.${format}`;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        };
      }, 1000);
    }

    function downloadAudio(index) {
      // This function is called when the download button is clicked
      // The actual download logic is handled in the tool-specific functions
    }

    function updateTrimTime(index, type) {
      // Simulate time update
      const slider = document.getElementById(`${type}-slider-${index}`);
      const timeDisplay = document.getElementById(`${type}-time-${index}`);
      const time = (slider.value / 100 * 120).toFixed(1); // 120 seconds max
      timeDisplay.textContent = `${Math.floor(time/60)}:${(time%60).toFixed(0).padStart(2, '0')}`;
    }

    function trimAudio(index) {
      const waveform = document.getElementById(`trim-waveform-${index}`);
      if (!waveform.innerHTML) {
        showNotification("Please upload an audio file first");
        return;
      }
      
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-trim-${index}`);
      
      result.innerHTML = `<p>Trimming audio...</p>`;
      
      setTimeout(() => {
        // Simulate audio trimming
        const url = URL.createObjectURL(new Blob(['trimmed audio data'], { type: 'audio/mp3' }));
        result.innerHTML = `<p>Trimming complete! Your trimmed audio is ready.</p>`;
        downloadBtn.style.display = 'inline-flex';
        downloadBtn.onclick = function() {
          const a = document.createElement('a');
          a.href = url;
          a.download = 'trimmed-audio.mp3';
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        };
      }, 1000);
    }

    function handleVideoUpload(event, index) {
      const file = event.target.files[0];
      if (!file) return;
      
      const preview = document.getElementById(`video-preview-${index}`);
      preview.innerHTML = `
        <div style="text-align:center;">
          <div style="font-size:3rem; margin-bottom:1rem;"><i class="fas fa-video"></i></div>
          <div>Video: ${file.name}</div>
          <div>Duration: 02:30</div>
        </div>
      `;
    }

    function swapVideoContainer(index) {
      const preview = document.getElementById(`video-preview-${index}`);
      if (!preview.innerHTML.includes('Video:')) {
        showNotification("Please upload a video file first");
        return;
      }
      
      const format = document.getElementById(`video-format-${index}`).value;
      const result = document.getElementById(`result-${index}`);
      const downloadBtn = document.getElementById(`download-video-${index}`);
      
      result.innerHTML = `<p>Swapping video container to ${format.toUpperCase()}...</p>`;
      
      setTimeout(() => {
        // Simulate container swapping
        const url = URL.createObjectURL(new Blob(['video data'], { type: 'video/' + format }));
        result.innerHTML = `<p>Container swap complete! Your ${format.toUpperCase()} video is ready.</p>`;
        downloadBtn.style.display = 'inline-flex';
        downloadBtn.onclick = function() {
          const a = document.createElement('a');
          a.href = url;
          a.download = `converted-video.${format}`;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        };
      }, 1000);
    }

    function downloadVideo(index) {
      // This function is called when the download button is clicked
      // The actual download logic is handled in the tool-specific functions
    }

    function calculateEMI(index) {
      const loanAmount = parseFloat(document.getElementById(`loan-amount-${index}`).value);
      const interestRate = parseFloat(document.getElementById(`interest-rate-${index}`).value);
      const loanTenure = parseFloat(document.getElementById(`loan-tenure-${index}`).value);
      
      if (isNaN(loanAmount) || isNaN(interestRate) || isNaN(loanTenure)) {
        showNotification("Please enter valid values");
        return;
      }
      
      // Calculate EMI
      const monthlyRate = interestRate / 1200;
      const tenureMonths = loanTenure * 12;
      const emi = loanAmount * monthlyRate * Math.pow(1 + monthlyRate, tenureMonths) / 
                  (Math.pow(1 + monthlyRate, tenureMonths) - 1);
      
      const totalPayment = emi * tenureMonths;
      const totalInterest = totalPayment - loanAmount;
      
      const result = document.getElementById(`emi-result-${index}`);
      result.innerHTML = `
        <p><strong>Monthly EMI:</strong> ₹${emi.toFixed(2)}</p>
        <p><strong>Total Interest:</strong> ₹${totalInterest.toFixed(2)}</p>
        <p><strong>Total Payment:</strong> ₹${totalPayment.toFixed(2)}</p>
      `;
      
      // Generate amortization table
      const amortization = document.getElementById(`amortization-${index}`);
      let tableHTML = `
        <table class="amortization-table">
          <tr>
            <th>Month</th>
            <th>EMI</th>
            <th>Principal</th>
            <th>Interest</th>
            <th>Balance</th>
          </tr>
      `;
      
      let balance = loanAmount;
      for (let i = 1; i <= Math.min(12, tenureMonths); i++) {
        const interest = balance * monthlyRate;
        const principal = emi - interest;
        balance -= principal;
        
        tableHTML += `
          <tr>
            <td>${i}</td>
            <td>₹${emi.toFixed(2)}</td>
            <td>₹${principal.toFixed(2)}</td>
            <td>₹${interest.toFixed(2)}</td>
            <td>₹${Math.max(0, balance).toFixed(2)}</td>
          </tr>
        `;
      }
      
      tableHTML += `</table>`;
      amortization.innerHTML = tableHTML;
    }

    function calculateSIP(index) {
      const monthlyInvestment = parseFloat(document.getElementById(`monthly-investment-${index}`).value);
      const returnRate = parseFloat(document.getElementById(`return-rate-${index}`).value);
      const duration = parseFloat(document.getElementById(`investment-duration-${index}`).value);
      
      if (isNaN(monthlyInvestment) || isNaN(returnRate) || isNaN(duration)) {
        showNotification("Please enter valid values");
        return;
      }
      
      // Calculate SIP
      const monthlyRate = returnRate / 1200;
      const months = duration * 12;
      const futureValue = monthlyInvestment * 
        (Math.pow(1 + monthlyRate, months) - 1) / monthlyRate * (1 + monthlyRate);
      
      const investedAmount = monthlyInvestment * months;
      const wealthGained = futureValue - investedAmount;
      
      const result = document.getElementById(`sip-result-${index}`);
      result.innerHTML = `
        <p><strong>Invested Amount:</strong> ₹${investedAmount.toFixed(2)}</p>
        <p><strong>Wealth Gained:</strong> ₹${wealthGained.toFixed(2)}</p>
        <p><strong>Total Value:</strong> ₹${futureValue.toFixed(2)}</p>
      `;
      
      // Generate chart
      const chart = document.getElementById(`sip-chart-${index}`);
      chart.innerHTML = '';
      
      const barWidth = chart.offsetWidth / 12;
      for (let i = 0; i < 12; i++) {
        const bar = document.createElement('div');
        bar.className = 'sip-bar';
        bar.style.left = `${i * (barWidth + 5)}px`;
        bar.style.height = `${Math.random() * 150 + 50}px`;
        chart.appendChild(bar);
      }
    }

    function calculateUnitPrices(index) {
      const price1 = parseFloat(document.getElementById(`price1-${index}`).value);
      const quantity1 = parseFloat(document.getElementById(`quantity1-${index}`).value);
      const price2 = parseFloat(document.getElementById(`price2-${index}`).value);
      const quantity2 = parseFloat(document.getElementById(`quantity2-${index}`).value);
      
      if (isNaN(price1) || isNaN(quantity1) || isNaN(price2) || isNaN(quantity2)) {
        showNotification("Please enter valid values for both products");
        return;
      }
      
      const unitPrice1 = price1 / quantity1;
      const unitPrice2 = price2 / quantity2;
      
      document.getElementById(`unit-price1-${index}`).innerHTML = `Unit Price: ₹${unitPrice1.toFixed(2)}`;
      document.getElementById(`unit-price2-${index}`).innerHTML = `Unit Price: ₹${unitPrice2.toFixed(2)}`;
      
      const bestValue = document.getElementById(`best-value-${index}`);
      const product1 = document.getElementById('price-comparison-' + index).children[0];
      const product2 = document.getElementById('price-comparison-' + index).children[1];
      
      product1.classList.remove('best');
      product2.classList.remove('best');
      
      if (unitPrice1 < unitPrice2) {
        product1.classList.add('best');
        bestValue.innerHTML = `<p style="color:#4361ee;"><strong>Best Value:</strong> Product 1 (₹${unitPrice1.toFixed(2)} per unit)</p>`;
      } else {
        product2.classList.add('best');
        bestValue.innerHTML = `<p style="color:#4361ee;"><strong>Best Value:</strong> Product 2 (₹${unitPrice2.toFixed(2)} per unit)</p>`;
      }
    }

    function beautifyHTML(index) {
      const input = document.getElementById(`html-input-${index}`).value;
      if (!input) {
        showNotification("Please enter HTML code to beautify");
        return;
      }
      
      // Simple HTML beautification
      let formatted = input.replace(/></g, '>\n<');
      formatted = formatted.replace(/</g, '\n<').replace(/>/g, '>\n');
      formatted = formatted.replace(/^\s*[\r\n]/gm, '').replace(/^/gm, '  ');
      
      document.getElementById(`html-output-${index}`).value = formatted;
    }

    function minifyHTML(index) {
      const input = document.getElementById(`html-input-${index}`).value;
      if (!input) {
        showNotification("Please enter HTML code to minify");
        return;
      }
      
      // Simple HTML minification
      let minified = input.replace(/\s+/g, ' ').replace(/> </g, '><');
      
      document.getElementById(`html-output-${index}`).value = minified;
    }

    function beautifyCSS(index) {
      const input = document.getElementById(`css-input-${index}`).value;
      if (!input) {
        showNotification("Please enter CSS code to beautify");
        return;
      }
      
      // Simple CSS beautification
      let formatted = input.replace(/;/g, ';\n').replace(/{/g, ' {\n').replace(/}/g, '\n}\n');
      formatted = formatted.replace(/^\s*[\r\n]/gm, '').replace(/^/gm, '  ');
      
      document.getElementById(`css-output-${index}`).value = formatted;
    }

    function minifyCSS(index) {
      const input = document.getElementById(`css-input-${index}`).value;
      if (!input) {
        showNotification("Please enter CSS code to minify");
        return;
      }
      
      // Simple CSS minification
      let minified = input.replace(/\s+/g, ' ').replace(/; /g, ';').replace(/ {/g, '{');
      
      document.getElementById(`css-output-${index}`).value = minified;
    }

    function beautifyJS(index) {
      const input = document.getElementById(`js-input-${index}`).value;
      if (!input) {
        showNotification("Please enter JavaScript code to beautify");
        return;
      }
      
      // Simple JS beautification
      let formatted = input.replace(/{/g, ' {\n').replace(/;/g, ';\n').replace(/}/g, '\n}');
      formatted = formatted.replace(/^\s*[\r\n]/gm, '').replace(/^/gm, '  ');
      
      document.getElementById(`js-output-${index}`).value = formatted;
    }

    function minifyJS(index) {
      const input = document.getElementById(`js-input-${index}`).value;
      if (!input) {
        showNotification("Please enter JavaScript code to minify");
        return;
      }
      
      // Simple JS minification
      let minified = input.replace(/\s+/g, ' ').replace(/; /g, ';');
      
      document.getElementById(`js-output-${index}`).value = minified;
    }

    function convertCSVToJSON(index) {
      const input = document.getElementById(`csv-input-${index}`).value;
      if (!input) {
        showNotification("Please enter CSV data to convert");
        return;
      }
      
      // Simple CSV to JSON conversion
      const lines = input.split('\n');
      const headers = lines[0].split(',');
      const result = [];
      
      for (let i = 1; i < lines.length; i++) {
        if (!lines[i]) continue;
        const obj = {};
        const currentline = lines[i].split(',');
        
        for (let j = 0; j < headers.length; j++) {
          obj[headers[j].trim()] = currentline[j].trim();
        }
        result.push(obj);
      }
      
      document.getElementById(`csv-json-result-${index}`).textContent = JSON.stringify(result, null, 2);
    }

    function convertJSONToCSV(index) {
      const input = document.getElementById(`json-input-${index}`).value;
      if (!input) {
        showNotification("Please enter JSON data to convert");
        return;
      }
      
      try {
        const data = JSON.parse(input);
        if (!Array.isArray(data)) {
          showNotification("JSON must be an array of objects");
          return;
        }
        
        if (data.length === 0) {
          document.getElementById(`json-csv-result-${index}`).textContent = "";
          return;
        }
        
        // Get headers
        const headers = Object.keys(data[0]);
        let csv = headers.join(',') + '\n';
        
        // Add data rows
        data.forEach(row => {
          const values = headers.map(header => {
            const value = row[header];
            // Escape commas and quotes
            return typeof value === 'string' && (value.includes(',') || value.includes('"')) 
              ? `"${value.replace(/"/g, '""')}"` 
              : value;
          });
          csv += values.join(',') + '\n';
        });
        
        document.getElementById(`json-csv-result-${index}`).textContent = csv;
      } catch (e) {
        showNotification("Invalid JSON: " + e.message);
      }
    }

    function generatePassword(index) {
      const length = parseInt(document.getElementById(`pass-length-${index}`).value);
      const useUpper = document.getElementById(`uppercase-${index}`).checked;
      const useLower = document.getElementById(`lowercase-${index}`).checked;
      const useNumbers = document.getElementById(`numbers-${index}`).checked;
      const useSymbols = document.getElementById(`symbols-${index}`).checked;
      const pronounceable = document.getElementById(`pronounceable-${index}`).checked;
      
      let charset = '';
      if (useUpper) charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      if (useLower) charset += 'abcdefghijklmnopqrstuvwxyz';
      if (useNumbers) charset += '0123456789';
      if (useSymbols) charset += '!@#$%^&*()_+-=[]{}|;:,.<>?';
      
      if (!charset) {
        showNotification("Please select at least one character type");
        return;
      }
      
      let password = '';
      
      if (pronounceable) {
        // Simple pronounceable password generator
        const vowels = 'aeiou';
        const consonants = 'bcdfghjklmnpqrstvwxyz';
        const numbers = '0123456789';
        const symbols = '!@#$%^&*';
        
        for (let i = 0; i < length; i++) {
          if (i % 3 === 0 && useUpper) {
            password += consonants.charAt(Math.floor(Math.random() * consonants.length)).toUpperCase();
          } else if (i % 3 === 1) {
            password += vowels.charAt(Math.floor(Math.random() * vowels.length));
          } else {
            if (useNumbers && Math.random() > 0.7) {
              password += numbers.charAt(Math.floor(Math.random() * numbers.length));
            } else if (useSymbols && Math.random() > 0.8) {
              password += symbols.charAt(Math.floor(Math.random() * symbols.length));
            } else {
              password += consonants.charAt(Math.floor(Math.random() * consonants.length));
            }
          }
        }
      } else {
        for (let i = 0; i < length; i++) {
          password += charset.charAt(Math.floor(Math.random() * charset.length));
        }
      }
      
      document.getElementById(`result-${index}`).textContent = password;
    }

    function generateHash(index) {
      const input = document.getElementById(`hash-input-${index}`).value;
      const algo = document.getElementById(`hash-algo-${index}`).value;
      
      if (!input) {
        showNotification("Please enter text to hash");
        return;
      }
      
      // Simulate hash generation
      let hash = '';
      switch(algo) {
        case 'md5':
          hash = '5d41402abc4b2a76b9719d911017c592'; // Example MD5
          break;
        case 'sha1':
          hash = 'aaf4c61ddcc5e8a2dabede0f3b482cd9aea9434d'; // Example SHA-1
          break;
        case 'sha256':
          hash = '2cf24dba4f21d4288094c14d2d0a3d2d6a0a3d2d6a0a3d2d6a0a3d2d6a0a3d2d'; // Example SHA-256
          break;
      }
      
      document.getElementById(`result-${index}`).textContent = hash;
    }

    function convertCase(index, type) {
      const input = document.getElementById(`case-input-${index}`).value;
      if (!input) {
        showNotification("Please enter text to convert");
        return;
      }
      
      let result = '';
      switch(type) {
        case 'upper':
          result = input.toUpperCase();
          break;
        case 'lower':
          result = input.toLowerCase();
          break;
        case 'title':
          result = input.replace(/\w\S*/g, (txt) => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());
          break;
        case 'sentence':
          result = input.charAt(0).toUpperCase() + input.substr(1).toLowerCase();
          break;
        case 'camel':
          result = input.replace(/(?:^\w|[A-Z]|\b\w)/g, (word, index) => {
            return index === 0 ? word.toLowerCase() : word.toUpperCase();
          }).replace(/\s+/g, '');
          break;
        case 'pascal':
          result = input.replace(/(?:^\w|[A-Z]|\b\w)/g, (word) => {
            return word.toUpperCase();
          }).replace(/\s+/g, '');
          break;
      }
      
      document.getElementById(`result-${index}`).textContent = result;
    }

    function generateQRCode(index) {
      const input = document.getElementById(`qr-input-${index}`).value;
      if (!input) {
        showNotification("Please enter text or URL");
        return;
      }
      
      const size = document.getElementById(`qr-size-${index}`).value;
      
      // Create a simple QR code representation
      const qrOutput = document.getElementById(`qr-output-${index}`);
      qrOutput.innerHTML = `
        <div style="display:inline-block; padding:10px; background:white; border:1px solid #94a3b8; border-radius:var(--radius-md);">
          <div style="width:${size}px; height:${size}px; background:#4361ee; display:flex; align-items:center; justify-content:center; font-weight:bold; color:white; border-radius:4px;">
            QR CODE<br>FOR<br>"${input.substring(0, 20)}${input.length > 20 ? '...' : ''}"
          </div>
        </div>
      `;
      
      // Store the QR data for download
      document.getElementById(`qr-download-${index}`).dataset.qrData = input;
      document.getElementById(`qr-download-${index}`).style.display = 'inline-flex';
    }

    function downloadQRCode(index) {
      const qrData = document.getElementById(`qr-download-${index}`).dataset.qrData;
      if (!qrData) {
        showNotification("Please generate a QR code first");
        return;
      }
      
      // Create a simple text file with the QR data
      const blob = new Blob([qrData], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = 'qrcode.txt';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    // Timer/Stopwatch implementation
    let timerInterval = null;
    let stopwatchInterval = null;
    let startTime = 0;
    let elapsedTime = 0;
    let isRunning = false;
    let lapCount = 1;

    function startTimer(index) {
      if (isRunning) return;
      
      isRunning = true;
      startTime = Date.now() - elapsedTime;
      
      timerInterval = setInterval(() => {
        elapsedTime = Date.now() - startTime;
        updateTimerDisplay(index);
      }, 10);
    }

    function pauseTimer(index) {
      clearInterval(timerInterval);
      isRunning = false;
    }

    function resetTimer(index) {
      clearInterval(timerInterval);
      isRunning = false;
      elapsedTime = 0;
      lapCount = 1;
      updateTimerDisplay(index);
      document.getElementById(`lap-times-${index}`).innerHTML = '';
    }

    function lapTimer(index) {
      if (!isRunning) return;
      
      const lapTimes = document.getElementById(`lap-times-${index}`);
      const lapTime = document.createElement('div');
      lapTime.className = 'lap-time';
      lapTime.textContent = `Lap ${lapCount++}: ${formatTime(elapsedTime)}`;
      lapTimes.appendChild(lapTime);
      lapTimes.scrollTop = lapTimes.scrollHeight;
    }

    function updateTimerDisplay(index) {
      document.getElementById(`timer-display-${index}`).textContent = formatTime(elapsedTime);
    }

    function formatTime(ms) {
      const hours = Math.floor(ms / 3600000);
      const minutes = Math.floor((ms % 3600000) / 60000);
      const seconds = Math.floor((ms % 60000) / 1000);
      const milliseconds = Math.floor((ms % 1000) / 10);
      
      return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(2, '0')}`;
    }

    // Unit converter implementation
    const unitTypes = {
      length: {
        units: ['mm', 'cm', 'm', 'km', 'in', 'ft', 'yd', 'mi'],
        conversions: {
          mm: 1, cm: 10, m: 1000, km: 1000000,
          in: 25.4, ft: 304.8, yd: 914.4, mi: 1609344
        }
      },
      weight: {
        units: ['mg', 'g', 'kg', 'oz', 'lb'],
        conversions: {
          mg: 1, g: 1000, kg: 1000000,
          oz: 28349.5, lb: 453592
        }
      },
      temperature: {
        units: ['C', 'F', 'K'],
        conversions: {} // Special handling
      },
      data: {
        units: ['B', 'KB', 'MB', 'GB', 'TB'],
        conversions: {
          B: 1, KB: 1024, MB: 1048576, GB: 1073741824, TB: 1099511627776
        }
      }
    };

    function updateUnitOptions(index) {
      const unitType = document.getElementById(`unit-type-${index}`).value;
      const fromSelect = document.getElementById(`from-unit-${index}`);
      const toSelect = document.getElementById(`to-unit-${index}`);
      
      fromSelect.innerHTML = '';
      toSelect.innerHTML = '';
      
      unitTypes[unitType].units.forEach(unit => {
        const option1 = document.createElement('option');
        option1.value = unit;
        option1.textContent = unit;
        fromSelect.appendChild(option1);
        
        const option2 = document.createElement('option');
        option2.value = unit;
        option2.textContent = unit;
        toSelect.appendChild(option2);
      });
      
      // Set default selections
      if (unitType === 'length') {
        fromSelect.value = 'm';
        toSelect.value = 'cm';
      } else if (unitType === 'weight') {
        fromSelect.value = 'kg';
        toSelect.value = 'lb';
      } else if (unitType === 'temperature') {
        fromSelect.value = 'C';
        toSelect.value = 'F';
      } else if (unitType === 'data') {
        fromSelect.value = 'MB';
        toSelect.value = 'GB';
      }
      
      convertUnit(index);
    }

    function convertUnit(index) {
      const unitType = document.getElementById(`unit-type-${index}`).value;
      const fromUnit = document.getElementById(`from-unit-${index}`).value;
      const toUnit = document.getElementById(`to-unit-${index}`).value;
      const fromValue = parseFloat(document.getElementById(`from-value-${index}`).value);
      
      if (isNaN(fromValue)) {
        document.getElementById(`to-value-${index}`).value = '';
        return;
      }
      
      let result;
      
      if (unitType === 'temperature') {
        // Special handling for temperature
        if (fromUnit === toUnit) {
          result = fromValue;
        } else if (fromUnit === 'C') {
          if (toUnit === 'F') result = (fromValue * 9/5) + 32;
          else if (toUnit === 'K') result = fromValue + 273.15;
        } else if (fromUnit === 'F') {
          if (toUnit === 'C') result = (fromValue - 32) * 5/9;
          else if (toUnit === 'K') result = (fromValue - 32) * 5/9 + 273.15;
        } else if (fromUnit === 'K') {
          if (toUnit === 'C') result = fromValue - 273.15;
          else if (toUnit === 'F') result = (fromValue - 273.15) * 9/5 + 32;
        }
      } else {
        // Standard conversion
        const fromFactor = unitTypes[unitType].conversions[fromUnit];
        const toFactor = unitTypes[unitType].conversions[toUnit];
        result = (fromValue * fromFactor) / toFactor;
      }
      
      document.getElementById(`to-value-${index}`).value = result.toFixed(6);
    }

    function calculateBMI(index) {
      const height = parseFloat(document.getElementById(`height-${index}`).value);
      const weight = parseFloat(document.getElementById(`weight-${index}`).value);
      
      if (isNaN(height) || isNaN(weight) || height <= 0 || weight <= 0) {
        showNotification("Please enter valid height and weight");
        return;
      }
      
      // Convert height from cm to meters
      const heightInMeters = height / 100;
      const bmi = weight / (heightInMeters * heightInMeters);
      
      let category = '';
      if (bmi < 18.5) category = 'Underweight';
      else if (bmi < 25) category = 'Normal weight';
      else if (bmi < 30) category = 'Overweight';
      else category = 'Obesity';
      
      document.getElementById(`result-${index}`).innerHTML = `
        <p><strong>BMI:</strong> ${bmi.toFixed(1)}</p>
        <p><strong>Category:</strong> ${category}</p>
      `;
    }

    function calculateAge(index) {
      const dob = document.getElementById(`dob-${index}`).value;
      if (!dob) {
        showNotification("Please select a date of birth");
        return;
      }
      
      const birthDate = new Date(dob);
      const today = new Date();
      
      let years = today.getFullYear() - birthDate.getFullYear();
      let months = today.getMonth() - birthDate.getMonth();
      let days = today.getDate() - birthDate.getDate();
      
      if (days < 0) {
        months--;
        const lastMonth = new Date(today.getFullYear(), today.getMonth(), 0);
        days += lastMonth.getDate();
      }
      
      if (months < 0) {
        years--;
        months += 12;
      }
      
      document.getElementById(`result-${index}`).innerHTML = `
        <p><strong>Age:</strong> ${years} years, ${months} months, ${days} days</p>
        <p><strong>Total days:</strong> ${Math.floor((today - birthDate) / (1000 * 60 * 60 * 24))}</p>
      `;
    }

    function populateVoices(index) {
      // Simulate voice population
      const voices = [
        { name: "Google US English", lang: "en-US" },
        { name: "Microsoft David - English (United States)", lang: "en-US" },
        { name: "Google UK English Female", lang: "en-GB" },
        { name: "Google UK English Male", lang: "en-GB" }
      ];
      
      const select = document.getElementById(`voice-${index}`);
      select.innerHTML = '';
      
      voices.forEach((voice, i) => {
        const option = document.createElement('option');
        option.value = i;
        option.textContent = voice.name;
        select.appendChild(option);
      });
    }

    function speakText(index) {
      const text = document.getElementById(`tts-input-${index}`).value;
      if (!text) {
        showNotification("Please enter text to speak");
        return;
      }
      
      // Simulate text-to-speech
      showNotification(`Speaking: "${text.substring(0, 30)}${text.length > 30 ? '...' : ''}"`);
    }

    function stopSpeech(index) {
      // Simulate stopping speech
      showNotification("Speech stopped");
    }

    function startSpeechRecognition(index) {
      // Simulate speech recognition
      const result = document.getElementById(`result-${index}`);
      result.innerHTML = "<p>Listening... (Simulated recognition)</p>";
      
      setTimeout(() => {
        result.innerHTML = "<p>Recognized text would appear here in a real implementation using the Web Speech API.</p>";
      }, 2000);
    }

    function stopSpeechRecognition(index) {
      // Simulate stopping recognition
      showNotification("Speech recognition stopped");
    }

    function countText(index) {
      const text = document.getElementById(`counter-input-${index}`).value;
      
      const words = text.trim() ? text.trim().split(/\s+/).length : 0;
      const chars = text.length;
      const charsNoSpaces = text.replace(/\s/g, '').length;
      const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0).length;
      const paragraphs = text.split(/\n+/).filter(p => p.trim().length > 0).length;
      const readingTime = Math.ceil(words / 200); // Average reading speed: 200 wpm
      
      document.getElementById(`words-${index}`).textContent = words;
      document.getElementById(`chars-${index}`).textContent = chars;
      document.getElementById(`chars-no-spaces-${index}`).textContent = charsNoSpaces;
      document.getElementById(`sentences-${index}`).textContent = sentences;
      document.getElementById(`paragraphs-${index}`).textContent = paragraphs;
      document.getElementById(`reading-time-${index}`).textContent = readingTime;
    }

    function testRegex(index) {
      const regexStr = document.getElementById(`regex-${index}`).value;
      const testStr = document.getElementById(`test-string-${index}`).value;
      
      if (!regexStr) {
        showNotification("Please enter a regular expression");
        return;
      }
      
      try {
        const regex = new RegExp(regexStr, 'g');
        const matches = [...testStr.matchAll(regex)];
        
        let result = `<p><strong>Matches found:</strong> ${matches.length}</p>`;
        if (matches.length > 0) {
          result += '<p><strong>Matched text:</strong></p><ul>';
          matches.forEach(match => {
            result += `<li>${match[0]}</li>`;
          });
          result += '</ul>';
        }
        
        document.getElementById(`result-${index}`).innerHTML = result;
      } catch (e) {
        document.getElementById(`result-${index}`).innerHTML = `<p style="color: var(--danger);"><strong>Invalid regex:</strong> ${e.message}</p>`;
      }
    }

    function formatJSON(index) {
      const input = document.getElementById(`json-input-${index}`).value;
      if (!input) {
        showNotification("Please enter JSON to format");
        return;
      }
      
      try {
        const obj = JSON.parse(input);
        document.getElementById(`json-output-${index}`).value = JSON.stringify(obj, null, 2);
      } catch (e) {
        showNotification("Invalid JSON: " + e.message);
      }
    }

    function minifyJSON(index) {
      const input = document.getElementById(`json-input-${index}`).value;
      if (!input) {
        showNotification("Please enter JSON to minify");
        return;
      }
      
      try {
        const obj = JSON.parse(input);
        document.getElementById(`json-output-${index}`).value = JSON.stringify(obj);
      } catch (e) {
        showNotification("Invalid JSON: " + e.message);
      }
    }

    function validateJSON(index) {
      const input = document.getElementById(`json-validate-${index}`).value;
      if (!input) {
        document.getElementById(`validate-result-${index}`).innerHTML = '<p style="color: var(--danger);"><strong>Please enter JSON to validate</strong></p>';
        return;
      }
      
      try {
        JSON.parse(input);
        document.getElementById(`validate-result-${index}`).innerHTML = '<p style="color: var(--success);"><strong>Valid JSON</strong></p>';
      } catch (e) {
        document.getElementById(`validate-result-${index}`).innerHTML = `<p style="color: var(--danger);"><strong>Invalid JSON:</strong> ${e.message}</p>`;
      }
    }

    function encodeBase64(index) {
      const input = document.getElementById(`encode-input-${index}`).value;
      if (!input) {
        showNotification("Please enter text to encode");
        return;
      }
      
      try {
        const encoded = btoa(unescape(encodeURIComponent(input)));
        document.getElementById(`encode-result-${index}`).textContent = encoded;
      } catch (e) {
        showNotification("Encoding error: " + e.message);
      }
    }

    function decodeBase64(index) {
      const input = document.getElementById(`decode-input-${index}`).value;
      if (!input) {
        showNotification("Please enter Base64 string to decode");
        return;
      }
      
      try {
        const decoded = decodeURIComponent(escape(atob(input)));
        document.getElementById(`decode-result-${index}`).textContent = decoded;
      } catch (e) {
        showNotification("Decoding error: Invalid Base64 string");
      }
    }

    function generateLoremIpsum(index) {
      const paragraphs = parseInt(document.getElementById(`lorem-paragraphs-${index}`).value);
      const sentences = parseInt(document.getElementById(`lorem-sentences-${index}`).value);
      
      if (isNaN(paragraphs) || isNaN(sentences) || paragraphs < 1 || sentences < 1) {
        showNotification("Please enter valid numbers for paragraphs and sentences");
        return;
      }
      
      const lorem = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";
      
      let result = '';
      for (let p = 0; p < paragraphs; p++) {
        result += '<p>';
        for (let s = 0; s < sentences; s++) {
          result += lorem + ' ';
        }
        result += '</p>';
      }
      
      document.getElementById(`result-${index}`).innerHTML = result;
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
      // Ctrl/Cmd + K for search focus
      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
        e.preventDefault();
        document.querySelector('.search-bar').focus();
      }
      
      // ESC to close modals
      if (e.key === 'Escape') {
        document.querySelectorAll('.modal').forEach(modal => {
          modal.style.display = 'none';
        });
      }
    });

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      // Set active nav link based on scroll position
      const sections = document.querySelectorAll('section[id]');
      const navLinks = document.querySelectorAll('nav a');
      
      window.addEventListener('scroll', function() {
        let current = '';
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (pageYOffset >= (sectionTop - sectionHeight / 3)) {
            current = section.getAttribute('id');
          }
        });
        
        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${current}`) {
            link.classList.add('active');
          }
        });
      });
    });
  </script>
</body>
</html>